{"version":3,"file":"static/js/7436.a84172ed.js","mappings":"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","sources":["../node_modules/@antv/component/src/abstract/component.ts","../node_modules/@antv/component/src/abstract/group-component.ts","../node_modules/@antv/component/src/abstract/html-component.ts","../node_modules/@antv/component/src/annotation/line.ts","../node_modules/@antv/component/src/annotation/text.ts","../node_modules/@antv/component/src/annotation/arc.ts","../node_modules/@antv/component/src/annotation/region.ts","../node_modules/@antv/component/src/annotation/image.ts","../node_modules/@antv/component/src/annotation/data-marker.ts","../node_modules/@antv/component/src/annotation/data-region.ts","../node_modules/@antv/component/src/annotation/region-filter.ts","../node_modules/@antv/component/src/annotation/shape.ts","../node_modules/@antv/component/src/annotation/html.ts"],"sourcesContent":["import { Base } from '@antv/g-base';\nimport { deepMix, each, hasKey, isObject } from '@antv/util';\nimport { ILocation } from '../interfaces';\nimport { BBox, ComponentCfg, LocationCfg, OffsetPoint } from '../types';\nconst LOCATION_FIELD_MAP = {\n  none: [],\n  point: ['x', 'y'],\n  region: ['start', 'end'],\n  points: ['points'],\n  circle: ['center', 'radius', 'startAngle', 'endAngle'],\n};\n\nabstract class Component<T extends ComponentCfg = ComponentCfg> extends Base implements ILocation {\n  constructor(cfg: T) {\n    super(cfg);\n    this.initCfg();\n  }\n  /**\n   * @protected\n   * 默认的配置项\n   * @returns {object} 默认的配置项\n   */\n  public getDefaultCfg() {\n    return {\n      id: '',\n      name: '',\n      type: '',\n      locationType: 'none',\n      offsetX: 0,\n      offsetY: 0,\n      animate: false,\n      capture: true,\n      updateAutoRender: false,\n      animateOption: {\n        appear: null, // 初始入场动画配置\n        update: {\n          duration: 400,\n          easing: 'easeQuadInOut',\n        }, // 更新时发生变更的动画配置\n        enter: {\n          duration: 400,\n          easing: 'easeQuadInOut',\n        }, // 更新时新增元素的入场动画配置\n        leave: {\n          duration: 350,\n          easing: 'easeQuadIn',\n        }, // 更新时销毁动画配置\n      },\n      events: null,\n      defaultCfg: {},\n      visible: true,\n    };\n  }\n\n  /**\n   * 清理组件的内容，一般配合 render 使用\n   * @example\n   * axis.clear();\n   * axis.render();\n   */\n  public clear() {}\n\n  /**\n   * 更新组件\n   * @param {object} cfg 更新属性\n   */\n  public update(cfg: Partial<T>) {\n    const defaultCfg = this.get('defaultCfg') || {};\n    each(cfg, (value, name) => {\n      const originCfg = this.get(name);\n      let newCfg = value;\n      if (originCfg !== value) {\n        // 判断两者是否相等，主要是进行 null 的判定\n        if (isObject(value) && defaultCfg[name]) {\n          // 新设置的属性与默认值进行合并\n          newCfg = deepMix({}, defaultCfg[name], value);\n        }\n        this.set(name, newCfg);\n      }\n    });\n    this.updateInner(cfg);\n    this.afterUpdate(cfg);\n  }\n  // 更新内部\n  protected updateInner(cfg: Partial<T>) {\n\n  }\n\n  protected afterUpdate(cfg: Partial<T>) {\n    // 更新时考虑显示、隐藏\n    if (hasKey(cfg, 'visible')) {\n      if (cfg.visible) {\n        this.show();\n      } else {\n        this.hide();\n      }\n    }\n    // 更新时考虑capture\n    if (hasKey(cfg, 'capture')) {\n      this.setCapture(cfg.capture);\n    }\n  }\n\n  public abstract getBBox(): BBox;\n\n  public getLayoutBBox(): BBox {\n    return this.getBBox(); // 默认返回 getBBox，不同的组件内部单独实现\n  }\n\n  public getLocationType() {\n    return this.get('locationType');\n  }\n\n  public getOffset(): OffsetPoint {\n    return {\n      offsetX: this.get('offsetX'),\n      offsetY: this.get('offsetY'),\n    };\n  }\n\n  // 默认使用 update\n  public setOffset(offsetX: number, offsetY: number) {\n    this.update({\n      offsetX,\n      offsetY,\n    } as T);\n  }\n\n  public setLocation(cfg: LocationCfg) {\n    const location = { ...cfg } as Partial<T>;\n    this.update(location);\n  }\n\n  // 实现 ILocation 接口的 getLocation\n  public getLocation(): LocationCfg {\n    const location = {} as LocationCfg;\n    const locationType = this.get('locationType');\n    const fields = LOCATION_FIELD_MAP[locationType];\n    each(fields, (field) => {\n      location[field] = this.get(field);\n    });\n    return location;\n  }\n\n  public isList(): boolean {\n    return false;\n  }\n\n  public isSlider(): boolean {\n    return false;\n  }\n\n  /**\n   * @protected\n   * 初始化，用于具体的组件继承\n   */\n  public init() {}\n\n  /**\n   * 绘制组件\n   */\n  public abstract render();\n\n  /**\n   * 显示\n   */\n  public abstract show();\n\n  public abstract setCapture(capture: boolean);\n\n  /**\n   * 隐藏\n   */\n  public abstract hide();\n\n  // 将组件默认的配置项设置合并到传入的配置项\n  private initCfg() {\n    const defaultCfg = this.get('defaultCfg');\n    each(defaultCfg, (value, name) => {\n      const cfg = this.get(name);\n      if (isObject(cfg)) {\n        const newCfg = deepMix({}, value, cfg);\n        this.set(name, newCfg);\n      }\n    });\n  }\n}\n\nexport default Component;\n","/**\n * @fileoverview 使用 G.Group 的组件\n * @author dxq613@gmail.com\n */\nimport { IElement, IGroup, IShape } from '@antv/g-base';\nimport { difference, each, isNil, keys, mix, pick } from '@antv/util';\nimport { BBox, GroupComponentCfg, LooseObject, Point } from '../types';\nimport { propagationDelegate } from '../util/event';\nimport { applyMatrix2BBox, getMatrixByTranslate } from '../util/matrix';\nimport { getBBoxWithClip, updateClip } from '../util/util';\nimport Component from './component';\ntype Callback = (evt: object) => void;\n\nconst STATUS_UPDATE = 'update_status';\nconst COPY_PROPERTIES = ['visible', 'tip', 'delegateObject']; // 更新对象时需要复制的属性\nconst COPY_PROPERTIES_EXCLUDES = ['container', 'group', 'shapesMap', 'isRegister', 'isUpdating', 'destroyed']; // 更新子组件时排除的属性\n\nexport type GroupComponentCtor<\n  C extends GroupComponentCfg = GroupComponentCfg,\n  T extends GroupComponent = GroupComponent\n> = new (cfg: C) => T;\n\nabstract class GroupComponent<T extends GroupComponentCfg = GroupComponentCfg> extends Component<T> {\n  public getDefaultCfg() {\n    const cfg = super.getDefaultCfg();\n    return {\n      ...cfg,\n      container: null,\n      /**\n       * @private\n       * 缓存图形的 Map\n       */\n      shapesMap: {},\n      group: null,\n      capture: true,\n      /**\n       * @private 组件或者图形是否允许注册\n       * @type {false}\n       */\n      isRegister: false,\n      /**\n       * @private 是否正在更新\n       * @type {false}\n       */\n      isUpdating: false,\n      /**\n       * @private\n       * 是否初始状态，一旦 render，update 后，这个状态就变成 false, clear 后恢复\n       */\n      isInit: true,\n    };\n  }\n\n  public remove() {\n    this.clear();\n    const group = this.get('group');\n    group.remove();\n  }\n\n  public clear() {\n    const group = this.get('group');\n    group.clear();\n    this.set('shapesMap', {});\n    this.clearOffScreenCache();\n    this.set('isInit', true);\n  }\n\n  public getChildComponentById(id: string) {\n    const group = this.getElementById(id);\n    const inst = group && group.get('component');\n    return inst;\n  }\n\n  public getElementById(id: string) {\n    return this.get('shapesMap')[id];\n  }\n\n  public getElementByLocalId(localId) {\n    const id = this.getElementId(localId);\n    return this.getElementById(id);\n  }\n\n  public getElementsByName(name: string) {\n    const rst = [];\n    each(this.get('shapesMap'), (elem) => {\n      if (elem.get('name') === name) {\n        rst.push(elem);\n      }\n    });\n\n    return rst;\n  }\n\n  public getContainer(): IGroup {\n    return this.get('container') as IGroup;\n  }\n\n  public updateInner(cfg: Partial<T>) {\n    // this.updateInner();\n    // this.set('isUpdating', false);\n    this.offScreenRender();\n    if (this.get('updateAutoRender')) {\n      this.render();\n    }\n  }\n\n  public render() {\n    let offScreenGroup = this.get('offScreenGroup');\n    if (!offScreenGroup) {\n      offScreenGroup = this.offScreenRender();\n    }\n    const group = this.get('group');\n    this.updateElements(offScreenGroup, group);\n    this.deleteElements();\n    this.applyOffset();\n    if (!this.get('eventInitted')) {\n      this.initEvent();\n      this.set('eventInitted', true);\n    }\n    this.set('isInit', false);\n  }\n\n  public show() {\n    const group = this.get('group');\n    group.show();\n    this.set('visible', true);\n  }\n\n  public hide() {\n    const group = this.get('group');\n    group.hide();\n    this.set('visible', false);\n  }\n\n  public setCapture(capture) {\n    const group = this.get('group');\n    group.set('capture', capture);\n    this.set('capture', capture);\n  }\n\n  public destroy() {\n    this.removeEvent();\n    this.remove();\n    super.destroy();\n  }\n\n  public getBBox(): BBox {\n    return this.get('group').getCanvasBBox();\n  }\n\n  public getLayoutBBox(): BBox {\n    const group = this.get('group');\n    // 防止被 clear 了，offScreenBBox 不存在\n    let bbox = this.getInnerLayoutBBox();\n    const matrix = group.getTotalMatrix();\n    if (matrix) {\n      bbox = applyMatrix2BBox(matrix, bbox);\n    }\n    return bbox; // 默认返回 getBBox，不同的组件内部单独实现\n  }\n\n  // 复写 on, off, emit 透传到 group\n  public on(evt: string, callback: Callback, once?: boolean): this {\n    const group = this.get('group');\n    group.on(evt, callback, once);\n    return this;\n  }\n\n  public off(evt?: string, callback?: Callback): this {\n    const group = this.get('group');\n    group && group.off(evt, callback);\n    return this;\n  }\n\n  public emit(eventName: string, eventObject: LooseObject) {\n    const group = this.get('group');\n    group.emit(eventName, eventObject);\n  }\n\n  public init() {\n    super.init();\n    if (!this.get('group')) {\n      this.initGroup();\n    }\n    this.offScreenRender(); // 绘制离屏 group\n  }\n\n  // 获取组件内部布局占的包围盒\n  protected getInnerLayoutBBox() {\n    return this.get('offScreenBBox') || this.get('group').getBBox();\n  }\n\n  // 抛出委托对象\n  protected delegateEmit(eventName: string, eventObject: LooseObject) {\n    const group = this.get('group');\n    eventObject.target = group;\n    group.emit(eventName, eventObject);\n    propagationDelegate(group, eventName, eventObject);\n  }\n  // 创建离屏的 group ,不添加在 canvas 中\n  protected createOffScreenGroup() {\n    const group = this.get('group');\n    const GroupClass = group.getGroupBase(); // 获取分组的构造函数\n    const newGroup = new GroupClass({\n      delegateObject: this.getDelegateObject(), // 生成委托事件触发时附加的对象\n    });\n    return newGroup;\n  }\n\n  // 应用 offset\n  protected applyOffset() {\n    const offsetX = this.get('offsetX');\n    const offsetY = this.get('offsetY');\n    this.moveElementTo(this.get('group'), {\n      x: offsetX,\n      y: offsetY,\n    });\n  }\n\n  protected initGroup() {\n    const container = this.get('container');\n    this.set(\n      'group',\n      container.addGroup({\n        id: this.get('id'),\n        name: this.get('name'),\n        capture: this.get('capture'),\n        visible: this.get('visible'),\n        isComponent: true,\n        component: this,\n        delegateObject: this.getDelegateObject(),\n      })\n    );\n  }\n\n  // 离屏渲染\n  protected offScreenRender() {\n    this.clearOffScreenCache();\n    const offScreenGroup = this.createOffScreenGroup();\n\n    this.renderInner(offScreenGroup);\n    this.set('offScreenGroup', offScreenGroup);\n    // 包含包围盒的 bbox\n    this.set('offScreenBBox', getBBoxWithClip(offScreenGroup));\n    return offScreenGroup;\n  }\n\n  /**\n   * @protected\n   * 在组件上添加分组，主要解决 isReigeter 的问题\n   * @param {IGroup} parent 父元素\n   * @param {object} cfg    分组的配置项\n   */\n  protected addGroup(parent: IGroup, cfg) {\n    this.appendDelegateObject(parent, cfg);\n    const group = parent.addGroup(cfg);\n    if (this.get('isRegister')) {\n      this.registerElement(group);\n    }\n    return group;\n  }\n\n  /**\n   * @protected\n   * 在组件上添加图形，主要解决 isReigeter 的问题\n   * @param {IGroup} parent 父元素\n   * @param {object} cfg    分组的配置项\n   */\n  protected addShape(parent: IGroup, cfg) {\n    this.appendDelegateObject(parent, cfg);\n    const shape = parent.addShape(cfg);\n    if (this.get('isRegister')) {\n      this.registerElement(shape);\n    }\n    return shape;\n  }\n\n  /**\n   * 在组件上添加子组件\n   *\n   * @param parent 父元素\n   * @param cfg 子组件配置项\n   */\n  protected addComponent<C extends GroupComponentCfg = GroupComponentCfg, CT extends GroupComponent = GroupComponent>(\n    parent: IGroup,\n    cfg: Omit<C, 'container'> & { component: GroupComponentCtor<C, CT> }\n  ) {\n    const { id, component: Ctor, ...restCfg } = cfg;\n    // @ts-ignore\n    const inst: CT = new Ctor({\n      ...restCfg,\n      id,\n      container: parent,\n      updateAutoRender: this.get('updateAutoRender'),\n    });\n    inst.init();\n    inst.render();\n\n    if (this.get('isRegister')) {\n      this.registerElement(inst.get('group'));\n    }\n\n    return inst;\n  }\n\n  protected initEvent() {}\n\n  protected removeEvent() {\n    const group = this.get('group');\n    group.off();\n  }\n\n  protected getElementId(localId: string) {\n    const id = this.get('id'); // 组件的 Id\n    const name = this.get('name'); // 组件的名称\n    return `${id}-${name}-${localId}`;\n  }\n\n  protected registerElement(element) {\n    const id = element.get('id');\n    this.get('shapesMap')[id] = element;\n  }\n\n  protected unregisterElement(element) {\n    const id = element.get('id');\n    delete this.get('shapesMap')[id];\n  }\n\n  // 移动元素\n  protected moveElementTo(element: IElement, point: Point) {\n    const matrix = getMatrixByTranslate(point);\n    element.attr('matrix', matrix);\n  }\n\n  /**\n   * 内部的渲染\n   * @param {IGroup} group 图形分组\n   */\n  protected abstract renderInner(group: IGroup);\n\n  /**\n   * 图形元素新出现时的动画，默认图形从透明度 0 到当前透明度\n   * @protected\n   * @param {string} elmentName 图形元素名称\n   * @param {IElement} newElement  新的图形元素\n   * @param {object} animateCfg 动画的配置项\n   */\n  protected addAnimation(elmentName, newElement, animateCfg) {\n    // 缓存透明度\n    let originOpacity = newElement.attr('opacity');\n    if (isNil(originOpacity)) {\n      originOpacity = 1;\n    }\n    newElement.attr('opacity', 0);\n    newElement.animate({ opacity: originOpacity }, animateCfg);\n  }\n\n  /**\n   * 图形元素新出现时的动画，默认图形从透明度 0 到当前透明度\n   * @protected\n   * @param {string} elmentName 图形元素名称\n   * @param {IElement} originElement 要删除的图形元素\n   * @param {object} animateCfg 动画的配置项\n   */\n  protected removeAnimation(elementName, originElement, animateCfg) {\n    originElement.animate({ opacity: 0 }, animateCfg);\n  }\n\n  /**\n   * 图形元素的更新动画\n   * @param {string} elmentName 图形元素名称\n   * @param {IElement} originElement 现有的图形元素\n   * @param {object} newAttrs  新的图形元素\n   * @param {object} animateCfg 动画的配置项\n   */\n  protected updateAnimation(elementName, originElement, newAttrs, animateCfg) {\n    originElement.animate(newAttrs, animateCfg);\n  }\n\n  // 更新组件的图形\n  protected updateElements(newGroup, originGroup) {\n    const animate = this.get('animate');\n    const animateOption = this.get('animateOption');\n    const children = newGroup.getChildren().slice(0); // 创建一个新数组，防止添加到 originGroup 时， children 变动\n    let preElement; // 前面已经匹配到的图形元素，用于\n    each(children, (element) => {\n      const elementId = element.get('id');\n      const originElement = this.getElementById(elementId);\n      const elementName = element.get('name');\n      if (originElement) {\n        if (element.get('isComponent')) {\n          // 嵌套子组件更新\n          const childComponent = element.get('component');\n          const origChildComponent: GroupComponent<any> = originElement.get('component');\n          const newCfg = pick(childComponent.cfg, difference(keys(childComponent.cfg), COPY_PROPERTIES_EXCLUDES));\n          origChildComponent.update(newCfg);\n          originElement.set(STATUS_UPDATE, 'update');\n        } else {\n          const replaceAttrs = this.getReplaceAttrs(originElement, element);\n          // 更新\n          if (animate && animateOption.update) {\n            // 没有动画\n            this.updateAnimation(elementName, originElement, replaceAttrs, animateOption.update);\n          } else {\n            // originElement.attrs = replaceAttrs; // 直接替换\n            originElement.attr(replaceAttrs);\n          }\n          // 如果是分组，则继续执行\n          if (element.isGroup()) {\n            this.updateElements(element, originElement);\n          }\n          // 复制属性\n          each(COPY_PROPERTIES, (name) => {\n            originElement.set(name, element.get(name));\n          });\n          updateClip(originElement, element);\n\n          preElement = originElement;\n          // 执行完更新后设置状态位为更新\n          originElement.set(STATUS_UPDATE, 'update');\n        }\n      } else {\n        // 没有对应的图形，则插入当前图形\n        originGroup.add(element); // 应该在 group 加个 insertAt 的方法\n        const siblings = originGroup.getChildren(); // 兄弟节点\n        siblings.splice(siblings.length - 1, 1); // 先从数组中移除，然后放到合适的位置\n        if (preElement) {\n          // 前面已经有更新的图形或者插入的图形，则在这个图形后面插入\n          const index = siblings.indexOf(preElement);\n          siblings.splice(index + 1, 0, element); // 在已经更新的图形元素后面插入\n        } else {\n          siblings.unshift(element);\n        }\n        this.registerElement(element); // 注册节点\n        element.set(STATUS_UPDATE, 'add'); // 执行完更新后设置状态位为添加\n        if (element.get('isComponent')) {\n          // 直接新增子组件container属性，实例不变\n          const childComponent = element.get('component');\n          childComponent.set('container', originGroup);\n        } else if (element.isGroup()) {\n          // 如果元素是新增加的元素，则遍历注册所有的子节点\n          this.registerNewGroup(element);\n        }\n        preElement = element;\n        if (animate) {\n          const animateCfg = this.get('isInit') ? animateOption.appear : animateOption.enter;\n          if (animateCfg) {\n            this.addAnimation(elementName, element, animateCfg);\n          }\n        }\n      }\n    });\n  }\n\n  protected clearUpdateStatus(group: IGroup) {\n    const children = group.getChildren();\n    each(children, (el) => {\n      el.set(STATUS_UPDATE, null); // 清理掉更新状态\n    });\n  }\n\n  // 清理离屏缓存\n  private clearOffScreenCache() {\n    const offScreenGroup = this.get('offScreenGroup');\n    if (offScreenGroup) {\n      // 销毁原先的离线 Group\n      offScreenGroup.destroy();\n    }\n    this.set('offScreenGroup', null);\n    this.set('offScreenBBox', null);\n  }\n\n  // private updateInner() {\n  //   const group = this.get('group');\n  //   const newGroup = this.createOffScreenGroup();\n  //   this.renderInner(newGroup);\n  //   this.applyOffset();\n  //   this.updateElements(newGroup, group);\n  //   this.deleteElements();\n  //   newGroup.destroy(); // 销毁虚拟分组\n  // }\n\n  // 获取发生委托时的对象，在事件中抛出\n  private getDelegateObject() {\n    const name = this.get('name');\n    const delegateObject = {\n      [name]: this,\n      component: this,\n    };\n    return delegateObject;\n  }\n\n  // 附加委托信息，用于事件\n  private appendDelegateObject(parent: IGroup, cfg) {\n    const parentObject = parent.get('delegateObject');\n    if (!cfg.delegateObject) {\n      cfg.delegateObject = {};\n    }\n    mix(cfg.delegateObject, parentObject); // 将父元素上的委托信息复制到自身\n  }\n\n  // 获取需要替换的属性，如果原先图形元素存在，而新图形不存在，则设置 undefined\n  private getReplaceAttrs(originElement: IElement, newElement: IElement) {\n    const originAttrs = originElement.attr();\n    const newAttrs = newElement.attr();\n    each(originAttrs, (v, k) => {\n      if (newAttrs[k] === undefined) {\n        newAttrs[k] = undefined;\n      }\n    });\n    return newAttrs;\n  }\n\n  private registerNewGroup(group) {\n    const children = group.getChildren();\n    each(children, (element) => {\n      this.registerElement(element); // 注册节点\n      element.set(STATUS_UPDATE, 'add'); // 执行完更新后设置状态位为添加\n      if (element.isGroup()) {\n        this.registerNewGroup(element);\n      }\n    });\n  }\n\n  // 移除多余的元素\n  private deleteElements() {\n    const shapesMap = this.get('shapesMap');\n    const deleteArray = [];\n    // 遍历获取需要删除的图形元素\n    each(shapesMap, (element, id) => {\n      if (!element.get(STATUS_UPDATE) || element.destroyed) {\n        deleteArray.push([id, element]);\n      } else {\n        element.set(STATUS_UPDATE, null); // 清理掉更新状态\n      }\n    });\n    const animate = this.get('animate');\n    const animateOption = this.get('animateOption');\n    // 删除图形元素\n    each(deleteArray, (item) => {\n      const [id, element] = item;\n      if (!element.destroyed) {\n        const elementName = element.get('name');\n        if (animate && animateOption.leave) {\n          // 需要动画结束时移除图形\n          const callbackAnimCfg = mix(\n            {\n              callback: () => {\n                this.removeElement(element);\n              },\n            },\n            animateOption.leave\n          );\n          this.removeAnimation(elementName, element, callbackAnimCfg);\n        } else {\n          this.removeElement(element);\n        }\n      }\n      delete shapesMap[id]; // 从缓存中移除\n    });\n  }\n\n  private removeElement(element: IShape | IGroup) {\n    if (element.get('isGroup')) {\n      const component = element.get('component');\n      if (component) {\n        component.destroy();\n      }\n    }\n    element.remove();\n  }\n}\n\nexport default GroupComponent;\n","import { createDom, modifyCSS } from '@antv/dom-util';\nimport { isNil, isString, deepMix, each, hasKey } from '@antv/util';\nimport { BBox, ComponentCfg, HtmlComponentCfg } from '../types';\nimport { clearDom, createBBox, hasClass } from '../util/util';\nimport Component from './component';\n\nabstract class HtmlComponent<T extends ComponentCfg = HtmlComponentCfg> extends Component<T> {\n  public getDefaultCfg() {\n    const cfg = super.getDefaultCfg();\n    return {\n      ...cfg,\n      container: null,\n      containerTpl: '<div></div>',\n      updateAutoRender: true,\n      containerClassName: '',\n      parent: null,\n    };\n  }\n\n  public getContainer(): HTMLElement {\n    return this.get('container') as HTMLElement;\n  }\n\n  /**\n   * 显示组件\n   */\n  public show() {\n    const container = this.get('container');\n    container.style.display = '';\n    this.set('visible', true);\n  }\n  /**\n   * 隐藏组件\n   */\n  public hide() {\n    const container = this.get('container');\n    container.style.display = 'none';\n    this.set('visible', false);\n  }\n  /**\n   * 是否允许捕捉事件\n   * @param capture 事件捕捉\n   */\n  public setCapture(capture) {\n    const container = this.getContainer();\n    const value = capture ? 'auto' : 'none';\n    container.style.pointerEvents = value;\n    this.set('capture', capture);\n  }\n  public getBBox(): BBox {\n    const container = this.getContainer();\n    const x = parseFloat(container.style.left) || 0;\n    const y = parseFloat(container.style.top) || 0;\n    return createBBox(x, y, container.clientWidth, container.clientHeight);\n  }\n\n  public clear() {\n    const container = this.get('container');\n    clearDom(container);\n  }\n\n  public destroy() {\n    this.removeEvent();\n    this.removeDom();\n    super.destroy();\n  }\n\n  /**\n   * 复写 init，主要是初始化 DOM 和事件\n   */\n  public init() {\n    super.init();\n    this.initContainer();\n    this.initDom();\n    this.resetStyles(); // 初始化样式\n    this.applyStyles(); // 应用样式\n    this.initEvent();\n    this.initCapture();\n    this.initVisible();\n  }\n\n  protected initCapture() {\n    this.setCapture(this.get('capture'));\n  }\n  protected initVisible() {\n    if (!this.get('visible')) {\n      // 设置初始显示状态\n      this.hide();\n    } else {\n      this.show();\n    }\n  }\n\n  protected initDom() {\n\n  }\n\n  protected initContainer() {\n    let container = this.get('container');\n    if (isNil(container)) {\n      // 未指定 container 则创建\n      container = this.createDom();\n      let parent = this.get('parent');\n      if (isString(parent)) {\n        parent = document.getElementById(parent);\n        this.set('parent', parent);\n      }\n      parent.appendChild(container);\n      if (this.get('containerId')) {\n        container.setAttribute('id', this.get('containerId'));\n      }\n      this.set('container', container);\n    } else if (isString(container)) {\n      // 用户传入的 id, 作为 container\n      container = document.getElementById(container);\n      this.set('container', container);\n    } // else container 是 DOM\n    if (!this.get('parent')) {\n      this.set('parent', container.parentNode);\n    }\n  }\n\n  // 样式需要进行合并，不能单纯的替换，否则使用非常不方便\n  protected resetStyles() {\n    let style = this.get('domStyles');\n    const defaultStyles = this.get('defaultStyles');\n    if (!style) {\n      style = defaultStyles;\n    } else {\n      style = deepMix({}, defaultStyles, style);\n    }\n    this.set('domStyles', style);\n  }\n  // 应用所有的样式\n  protected applyStyles() {\n    const domStyles = this.get('domStyles');\n    if (!domStyles) {\n      return;\n    }\n    const container = this.getContainer();\n    this.applyChildrenStyles(container, domStyles);\n    const containerClassName = this.get('containerClassName');\n    if (containerClassName && hasClass(container, containerClassName)) {\n      const containerCss = domStyles[containerClassName];\n      modifyCSS(container, containerCss);\n    }\n  }\n\n  protected applyChildrenStyles(element, styles) {\n    each(styles, (style, name) => {\n      const elements = element.getElementsByClassName(name);\n      each(elements, (el) => {\n        modifyCSS(el, style);\n      });\n    });\n  }\n  // 应用到单个 DOM\n  protected applyStyle(cssName, dom) {\n    const domStyles = this.get('domStyles');\n    modifyCSS(dom, domStyles[cssName]);\n  }\n\n  /**\n   * @protected\n   */\n  protected createDom() {\n    const containerTpl = this.get('containerTpl');\n    return createDom(containerTpl);\n  }\n\n  /**\n   * @protected\n   * 初始化事件\n   */\n  protected initEvent() { }\n\n  /**\n   * @protected\n   * 清理 DOM\n   */\n  protected removeDom() {\n    const container = this.get('container');\n    // 节点不一定有parentNode\n    container && container.parentNode && container.parentNode.removeChild(container);\n  }\n\n  /**\n   * @protected\n   * 清理事件\n   */\n  protected removeEvent() { }\n\n  protected updateInner(cfg) {\n    // 更新样式\n    if (hasKey(cfg, 'domStyles')) {\n      this.resetStyles();\n      this.applyStyles();\n    }\n    // 只要属性发生变化，都调整一些位置\n    this.resetPosition();\n  }\n  protected resetPosition() { };\n}\n\nexport default HtmlComponent;\n","import { IGroup, Point } from '@antv/g-base';\nimport { isNumber, isString } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nimport { ILocation } from '../interfaces';\nimport { LineAnnotationCfg, RegionLocationCfg } from '../types';\nimport { renderTag, TagCfg } from '../util/graphic';\nimport Theme from '../util/theme';\nimport { getValueByPercent } from '../util/util';\n\nclass LineAnnotation extends GroupComponent<LineAnnotationCfg> implements ILocation<RegionLocationCfg> {\n  /**\n   * @protected\n   * 默认的配置项\n   * @returns {object} 默认的配置项\n   */\n  public getDefaultCfg() {\n    const cfg = super.getDefaultCfg();\n    return {\n      ...cfg,\n      name: 'annotation',\n      type: 'line',\n      locationType: 'region',\n      start: null,\n      end: null,\n      style: {},\n      text: null,\n      defaultCfg: {\n        style: {\n          fill: Theme.textColor,\n          fontSize: 12,\n          textAlign: 'center',\n          textBaseline: 'bottom',\n          fontFamily: Theme.fontFamily,\n        },\n        text: {\n          position: 'center',\n          autoRotate: true,\n          content: null,\n          offsetX: 0,\n          offsetY: 0,\n          style: {\n            stroke: Theme.lineColor,\n            lineWidth: 1,\n          },\n        },\n      },\n    };\n  }\n\n  protected renderInner(group: IGroup) {\n    this.renderLine(group);\n    if (this.get('text')) {\n      this.renderLabel(group);\n    }\n  }\n\n  // 绘制线\n  private renderLine(group: IGroup) {\n    const start = this.get('start');\n    const end = this.get('end');\n    const style = this.get('style');\n    this.addShape(group, {\n      type: 'line',\n      id: this.getElementId('line'),\n      name: 'annotation-line',\n      attrs: {\n        x1: start.x,\n        y1: start.y,\n        x2: end.x,\n        y2: end.y,\n        ...style,\n      },\n    });\n  }\n\n  // 获取 label 的位置\n  private getLabelPoint(start: Point, end: Point, position: string) {\n    let percent;\n    if (position === 'start') {\n      percent = 0;\n    } else if (position === 'center') {\n      percent = 0.5;\n    } else if (isString(position) && position.indexOf('%') !== -1) {\n      percent = parseInt(position, 10) / 100;\n    } else if (isNumber(position)) {\n      percent = position;\n    } else {\n      percent = 1;\n    }\n\n    if (percent > 1 || percent < 0) {\n      percent = 1;\n    }\n\n    return {\n      x: getValueByPercent(start.x, end.x, percent),\n      y: getValueByPercent(start.y, end.y, percent),\n    };\n  }\n\n  // 绘制 label\n  private renderLabel(group: IGroup) {\n    const text = this.get('text');\n    const start = this.get('start');\n    const end = this.get('end');\n    const { position, content, style, offsetX, offsetY, autoRotate,\n      maxLength, autoEllipsis, ellipsisPosition, background, isVertical = false } = text;\n    const point = this.getLabelPoint(start, end, position);\n    const x = point.x + offsetX;\n    const y = point.y + offsetY;\n\n    const cfg: TagCfg = {\n      id: this.getElementId('line-text'),\n      name: 'annotation-line-text',\n      x,\n      y,\n      content,\n      style,\n      maxLength,\n      autoEllipsis,\n      ellipsisPosition,\n      background,\n      isVertical,\n    };\n\n    // 如果自动旋转\n    if (autoRotate) {\n      const vector = [end.x - start.x, end.y - start.y];\n      cfg.rotate = Math.atan2(vector[1], vector[0]);\n    }\n\n    renderTag(group, cfg);\n  }\n}\n\nexport default LineAnnotation;\n","import { IGroup } from '@antv/g-base';\n\nimport GroupComponent from '../abstract/group-component';\nimport { ILocation } from '../interfaces';\nimport { PointLocationCfg, TextAnnotationCfg } from '../types';\nimport { renderTag } from '../util/graphic';\nimport { applyRotate, applyTranslate } from '../util/matrix';\nimport Theme from '../util/theme';\n\nclass TextAnnotation extends GroupComponent<TextAnnotationCfg> implements ILocation<PointLocationCfg> {\n  /**\n   * @protected\n   * 默认的配置项\n   * @returns {object} 默认的配置项\n   */\n  public getDefaultCfg() {\n    const cfg = super.getDefaultCfg();\n    return {\n      ...cfg,\n      name: 'annotation',\n      type: 'text',\n      locationType: 'point',\n      x: 0,\n      y: 0,\n      content: '',\n      rotate: null,\n      style: {},\n      background: null,\n      maxLength: null,\n      autoEllipsis: true,\n      isVertical: false,\n      ellipsisPosition: 'tail',\n      defaultCfg: {\n        style: {\n          fill: Theme.textColor,\n          fontSize: 12,\n          textAlign: 'center',\n          textBaseline: 'middle',\n          fontFamily: Theme.fontFamily,\n        },\n      },\n    };\n  }\n\n  // 复写 setLocation 方法，不需要重新创建 text\n  public setLocation(location: PointLocationCfg) {\n    this.set('x', location.x);\n    this.set('y', location.y);\n    this.resetLocation();\n  }\n\n  protected renderInner(group: IGroup) {\n    const { x, y } = this.getLocation();\n    const content = this.get('content');\n    const style = this.get('style');\n    const id = this.getElementId('text');\n    const name = `${this.get('name')}-text`;\n    const maxLength = this.get('maxLength');\n    const autoEllipsis = this.get('autoEllipsis');\n    const isVertical = this.get('isVertical');\n    const ellipsisPosition = this.get('ellipsisPosition');\n    const background = this.get('background');\n    const rotate = this.get('rotate');\n\n    const cfg = {\n      id,\n      name,\n      x,\n      y,\n      content,\n      style,\n      maxLength,\n      autoEllipsis,\n      isVertical,\n      ellipsisPosition,\n      background,\n      rotate,\n    };\n\n    renderTag(group, cfg);\n  }\n\n  private resetLocation() {\n    const textGroup = this.getElementByLocalId('text-group');\n    if (textGroup) {\n      const {x, y} = this.getLocation();\n      const rotate = this.get('rotate')\n      applyTranslate(textGroup, x, y);\n      applyRotate(textGroup, rotate, x, y);\n    }\n  }\n}\n\nexport default TextAnnotation;\n","import { IGroup } from '@antv/g-base';\nimport GroupComponent from '../abstract/group-component';\nimport { ILocation } from '../interfaces';\nimport { ArcAnnotationCfg, CircleLocationCfg } from '../types';\nimport { getCirclePoint } from '../util/util';\n\nclass ArcAnnotation extends GroupComponent<ArcAnnotationCfg> implements ILocation<CircleLocationCfg> {\n  /**\n   * @protected\n   * 默认的配置项\n   * @returns {object} 默认的配置项\n   */\n  public getDefaultCfg() {\n    const cfg = super.getDefaultCfg();\n    return {\n      ...cfg,\n      name: 'annotation',\n      type: 'arc',\n      locationType: 'circle',\n      center: null,\n      radius: 100,\n      startAngle: -Math.PI / 2,\n      endAngle: (Math.PI * 3) / 2,\n      style: {\n        stroke: '#999',\n        lineWidth: 1,\n      },\n    };\n  }\n\n  protected renderInner(group: IGroup) {\n    this.renderArc(group);\n  }\n\n  private getArcPath() {\n    const { center, radius, startAngle, endAngle } = this.getLocation();\n    const startPoint = getCirclePoint(center, radius, startAngle);\n    const endPoint = getCirclePoint(center, radius, endAngle);\n    const largeFlag = endAngle - startAngle > Math.PI ? 1 : 0;\n\n    const path = [['M', startPoint.x, startPoint.y]];\n    if (endAngle - startAngle === Math.PI * 2) {\n      // 整个圆是分割成两个圆\n      const middlePoint = getCirclePoint(center, radius, startAngle + Math.PI);\n      path.push(['A', radius, radius, 0, largeFlag, 1, middlePoint.x, middlePoint.y]);\n      path.push(['A', radius, radius, 0, largeFlag, 1, endPoint.x, endPoint.y]);\n    } else {\n      path.push(['A', radius, radius, 0, largeFlag, 1, endPoint.x, endPoint.y]);\n    }\n    return path;\n  }\n\n  // 绘制 arc\n  private renderArc(group: IGroup) {\n    // 也可以 通过 get('center') 类似的方式逐个获取\n    const path = this.getArcPath();\n    const style = this.get('style');\n    this.addShape(group, {\n      type: 'path',\n      id: this.getElementId('arc'),\n      name: 'annotation-arc',\n      attrs: {\n        path,\n        ...style,\n      },\n    });\n  }\n}\n\nexport default ArcAnnotation;\n","import { IGroup } from '@antv/g-base';\nimport GroupComponent from '../abstract/group-component';\nimport { ILocation } from '../interfaces';\nimport { RegionAnnotationCfg, RegionLocationCfg } from '../types';\nimport Theme from '../util/theme';\nimport { regionToBBox } from '../util/util';\n\nclass RegionAnnotation extends GroupComponent<RegionAnnotationCfg> implements ILocation<RegionLocationCfg> {\n  /**\n   * @protected\n   * 默认的配置项\n   * @returns {object} 默认的配置项\n   */\n  public getDefaultCfg() {\n    const cfg = super.getDefaultCfg();\n    return {\n      ...cfg,\n      name: 'annotation',\n      type: 'region',\n      locationType: 'region',\n      start: null,\n      end: null,\n      style: {},\n      defaultCfg: {\n        style: {\n          lineWidth: 0,\n          fill: Theme.regionColor,\n          opacity: 0.4,\n        },\n      },\n    };\n  }\n\n  protected renderInner(group: IGroup) {\n    this.renderRegion(group);\n  }\n\n  private renderRegion(group: IGroup) {\n    const start = this.get('start');\n    const end = this.get('end');\n    const style = this.get('style');\n    const bbox = regionToBBox({ start, end });\n    this.addShape(group, {\n      type: 'rect',\n      id: this.getElementId('region'),\n      name: 'annotation-region',\n      attrs: {\n        x: bbox.x,\n        y: bbox.y,\n        width: bbox.width,\n        height: bbox.height,\n        ...style,\n      },\n    });\n  }\n}\n\nexport default RegionAnnotation;\n","import { IGroup } from '@antv/g-base';\nimport GroupComponent from '../abstract/group-component';\nimport { ILocation } from '../interfaces';\nimport { ImageAnnotationCfg, RegionLocationCfg } from '../types';\nimport { regionToBBox } from '../util/util';\n\nclass ImageAnnotation extends GroupComponent<ImageAnnotationCfg> implements ILocation<RegionLocationCfg> {\n  /**\n   * @protected\n   * 默认的配置项\n   * @returns {object} 默认的配置项\n   */\n  public getDefaultCfg() {\n    const cfg = super.getDefaultCfg();\n    return {\n      ...cfg,\n      name: 'annotation',\n      type: 'image',\n      locationType: 'region',\n      start: null,\n      end: null,\n      src: null,\n      style: {},\n    };\n  }\n\n  public renderInner(group: IGroup) {\n    this.renderImage(group);\n  }\n\n  private getImageAttrs() {\n    const start = this.get('start');\n    const end = this.get('end');\n    const style = this.get('style');\n    const bbox = regionToBBox({ start, end });\n    const src = this.get('src');\n    return {\n      x: bbox.x,\n      y: bbox.y,\n      img: src,\n      width: bbox.width,\n      height: bbox.height,\n      ...style,\n    };\n  }\n\n  // 绘制图片\n  private renderImage(group: IGroup) {\n    this.addShape(group, {\n      type: 'image',\n      id: this.getElementId('image'),\n      name: 'annotation-image',\n      attrs: this.getImageAttrs(),\n    });\n  }\n}\n\nexport default ImageAnnotation;\n","import { IGroup } from '@antv/g-base';\nimport { get } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nimport { ILocation } from '../interfaces';\nimport { DataMarkerAnnotationCfg, PointLocationCfg } from '../types';\nimport { renderTag } from '../util/graphic';\nimport { applyTranslate } from '../util/matrix';\nimport Theme from '../util/theme';\n\nclass DataMarkerAnnotation extends GroupComponent<DataMarkerAnnotationCfg> implements ILocation<PointLocationCfg> {\n  /**\n   * 默认的配置项\n   * @returns {object} 默认的配置项\n   */\n  public getDefaultCfg() {\n    const cfg = super.getDefaultCfg();\n    return {\n      ...cfg,\n      name: 'annotation',\n      type: 'dataMarker',\n      locationType: 'point',\n      x: 0,\n      y: 0,\n      point: {},\n      line: {},\n      text: {},\n      direction: 'upward',\n      autoAdjust: true,\n      coordinateBBox: null,\n      defaultCfg: {\n        point: {\n          display: true,\n          style: {\n            r: 3,\n            fill: '#FFFFFF',\n            stroke: '#1890FF',\n            lineWidth: 2,\n          },\n        },\n        line: {\n          display: true,\n          length: 20,\n          style: {\n            stroke: Theme.lineColor,\n            lineWidth: 1,\n          },\n        },\n        text: {\n          content: '',\n          display: true,\n          style: {\n            fill: Theme.textColor,\n            opacity: 0.65,\n            fontSize: 12,\n            textAlign: 'start',\n            fontFamily: Theme.fontFamily,\n          },\n        },\n      },\n    };\n  }\n\n  protected renderInner(group: IGroup) {\n    if (get(this.get('line'), 'display')) {\n      this.renderLine(group);\n    }\n    if (get(this.get('text'), 'display')) {\n      this.renderText(group);\n    }\n    if (get(this.get('point'), 'display')) {\n      this.renderPoint(group);\n    }\n\n    if (this.get('autoAdjust')) {\n      this.autoAdjust(group);\n    }\n  }\n\n  protected applyOffset() {\n    this.moveElementTo(this.get('group'), {\n      x: this.get('x') + this.get('offsetX'),\n      y: this.get('y') + this.get('offsetY'),\n    });\n  }\n\n  private renderPoint(group: IGroup) {\n    const { point } = this.getShapeAttrs();\n\n    this.addShape(group, {\n      type: 'circle',\n      id: this.getElementId('point'),\n      name: 'annotation-point',\n      attrs: point,\n    });\n  }\n\n  private renderLine(group: IGroup) {\n    const { line } = this.getShapeAttrs();\n\n    this.addShape(group, {\n      type: 'path',\n      id: this.getElementId('line'),\n      name: 'annotation-line',\n      attrs: line,\n    });\n  }\n\n  private renderText(group: IGroup) {\n    const { text: textAttrs } = this.getShapeAttrs();\n\n    const { x, y, text, ...style } = textAttrs;\n    const { background, maxLength, autoEllipsis, isVertival, ellipsisPosition } = this.get('text');\n    const tagCfg = {\n      x,\n      y,\n      id: this.getElementId('text'),\n      name: 'annotation-text',\n      content: text,\n      style,\n      background,\n      maxLength,\n      autoEllipsis,\n      isVertival,\n      ellipsisPosition,\n    };\n\n    renderTag(group, tagCfg);\n  }\n\n  private autoAdjust(group: IGroup) {\n    const direction: string = this.get('direction');\n    const x: number = this.get('x');\n    const y: number = this.get('y');\n    const lineLength: number = get(this.get('line'), 'length', 0);\n    const coordinateBBox = this.get('coordinateBBox');\n    const { minX, maxX, minY, maxY } = group.getBBox();\n\n    const textGroup = group.findById(this.getElementId('text-group'));\n    const textShape = group.findById(this.getElementId('text'));\n    const lineShape = group.findById(this.getElementId('line'));\n\n    if (!coordinateBBox) {\n      return;\n    }\n\n    if (textGroup) {\n      let translateX = textGroup.attr('x'), translateY = textGroup.attr('y');\n      let { width, height } = textShape.getCanvasBBox();\n      let xFactor = 0, yFactor = 0;\n      if (x + minX <= coordinateBBox.minX) {\n        // 左侧超出\n        if (direction === 'leftward') {\n          xFactor = 1;\n        } else {\n          const overflow = coordinateBBox.minX - (x + minX);\n          translateX = textGroup.attr('x') + overflow;\n        }\n      } else if (x + maxX >= coordinateBBox.maxX) {\n        // 右侧超出\n        if (direction === 'rightward') {\n          xFactor = -1;\n        } else {\n          const overflow = x + maxX - coordinateBBox.maxX;\n          translateX = textGroup.attr('x') - overflow;\n        }\n      }\n      if (!!xFactor) {\n        if (lineShape) {\n          lineShape.attr('path', [\n            ['M', 0, 0],\n            ['L', lineLength * xFactor, 0],\n          ]);\n        }\n        translateX = (lineLength + 2 + width) * xFactor;\n      }\n      if (y + minY <= coordinateBBox.minY) {\n        // 上方超出\n        if (direction === 'upward') {\n          yFactor = 1;\n        } else {\n          const overflow = coordinateBBox.minY - (y + minY);\n          translateY = textGroup.attr('y') + overflow;\n        }\n      } else if (y + maxY >= coordinateBBox.maxY) {\n        // 下方超出\n        if (direction === 'downward') {\n          yFactor = -1;\n        } else {\n          const overflow = y + maxY - coordinateBBox.maxY;\n          translateY = textGroup.attr('y') - overflow;\n        }\n      }\n      if (!!yFactor) {\n        if (lineShape) {\n          lineShape.attr('path', [\n            ['M', 0, 0],\n            ['L', 0, lineLength * yFactor],\n          ]);\n        }\n        translateY = (lineLength + 2 + height) * yFactor;\n      }\n      if (translateX !== textGroup.attr('x') || translateY !== textGroup.attr('y'))\n        applyTranslate(textGroup, translateX, translateY);\n    }\n  }\n\n  private getShapeAttrs() {\n    const lineDisplay = get(this.get('line'), 'display');\n    const pointStyle = get(this.get('point'), 'style', {});\n    const lineStyle = get(this.get('line'), 'style', {});\n    const textStyle = get(this.get('text'), 'style', {});\n    const direction = this.get('direction');\n    const lineLength = lineDisplay ? get(this.get('line'), 'length', 0) : 0;\n    let xFactor = 0, yFactor = 0;\n    let textBaseline = 'top',\n      textAlign = 'start';\n    switch (direction) {\n      case 'upward':\n        yFactor = -1;\n        textBaseline = 'bottom';\n        break;\n      case 'downward':\n        yFactor = 1;\n        textBaseline = 'top';\n        break;\n      case 'leftward':\n        xFactor = -1;\n        textAlign = 'end';\n        break;\n      case 'rightward':\n        xFactor = 1;\n        textAlign = 'start';\n        break;\n    }\n    return {\n      point: {\n        x: 0,\n        y: 0,\n        ...pointStyle,\n      },\n      line: {\n        path: [\n          ['M', 0, 0],\n          ['L', lineLength * xFactor, lineLength * yFactor],\n        ],\n        ...lineStyle,\n      },\n      text: {\n        x: (lineLength + 2) * xFactor,\n        y: (lineLength + 2) * yFactor,\n        text: get(this.get('text'), 'content', ''),\n        textBaseline,\n        textAlign,\n        ...textStyle,\n      },\n    };\n  }\n}\n\nexport default DataMarkerAnnotation;\n","import { IGroup } from '@antv/g-base';\nimport { get } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nimport { ILocation } from '../interfaces';\nimport { DataRegionAnnotationCfg, Point, PointsLocationCfg } from '../types';\nimport Theme from '../util/theme';\nimport { pointsToBBox } from '../util/util';\nimport { renderTag } from '../util/graphic';\n\nclass DataRegionAnnotation extends GroupComponent<DataRegionAnnotationCfg> implements ILocation<PointsLocationCfg> {\n  /**\n   * 默认的配置项\n   * @returns {object} 默认的配置项\n   */\n  public getDefaultCfg() {\n    const cfg = super.getDefaultCfg();\n    return {\n      ...cfg,\n      name: 'annotation',\n      type: 'dataRegion',\n      locationType: 'points',\n      points: [],\n      lineLength: 0,\n      region: {},\n      text: {},\n      defaultCfg: {\n        region: {\n          style: {\n            lineWidth: 0,\n            fill: Theme.regionColor,\n            opacity: 0.4,\n          },\n        },\n        text: {\n          content: '',\n          style: {\n            textAlign: 'center',\n            textBaseline: 'bottom',\n            fontSize: 12,\n            fill: Theme.textColor,\n            fontFamily: Theme.fontFamily,\n          },\n        },\n      },\n    };\n  }\n\n  protected renderInner(group: IGroup) {\n    const regionStyle = get(this.get('region'), 'style', {});\n    const textStyle = get(this.get('text'), 'style', {});\n    const lineLength = this.get('lineLength') || 0;\n    const points: Point[] = this.get('points');\n\n    if (!points.length) {\n      return;\n    }\n    const bbox = pointsToBBox(points);\n\n    // render region\n    const path = [];\n    path.push(['M', points[0].x, bbox.minY - lineLength]);\n    points.forEach((point) => {\n      path.push(['L', point.x, point.y]);\n    });\n    path.push(['L', points[points.length - 1].x, points[points.length - 1].y - lineLength]);\n    this.addShape(group, {\n      type: 'path',\n      id: this.getElementId('region'),\n      name: 'annotation-region',\n      attrs: {\n        path,\n        ...regionStyle,\n      },\n    });\n\n    // render text\n    const textCfg = {\n      id: this.getElementId('text'),\n      name: 'annotation-text',\n      x: (bbox.minX + bbox.maxX) / 2,\n      y: bbox.minY - lineLength,\n      ...this.get('text'),\n    };\n\n    renderTag(group, textCfg);\n  }\n}\n\nexport default DataRegionAnnotation;\n","import { IGroup, IShape, Point, ShapeAttrs } from '@antv/g-base';\nimport { clone, each } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nimport { ILocation } from '../interfaces';\nimport { RegionFilterAnnotationCfg, RegionLocationCfg } from '../types';\nimport { regionToBBox } from '../util/util';\n\nclass RegionFilterAnnotation extends GroupComponent<RegionFilterAnnotationCfg> implements ILocation<RegionLocationCfg> {\n  /**\n   * 默认的配置项\n   * @returns {object} 默认的配置项\n   */\n  public getDefaultCfg() {\n    const cfg = super.getDefaultCfg();\n    return {\n      ...cfg,\n      name: 'annotation',\n      type: 'regionFilter',\n      locationType: 'region',\n      start: null,\n      end: null,\n      color: null,\n      shape: [],\n    };\n  }\n\n  protected renderInner(group: IGroup) {\n    const start: Point = this.get('start');\n    const end: Point = this.get('end');\n\n    // 1. add region layer\n    const layer: IGroup = this.addGroup(group, {\n      id: this.getElementId('region-filter'),\n      capture: false,\n    });\n\n    // 2. clone shape & color it\n    each(this.get('shapes'), (shape: IShape, shapeIdx: number) => {\n      const type = shape.get('type');\n      const attrs = clone(shape.attr());\n      this.adjustShapeAttrs(attrs);\n      this.addShape(layer, {\n        id: this.getElementId(`shape-${type}-${shapeIdx}`),\n        capture: false,\n        type,\n        attrs,\n      });\n    });\n\n    // 3. clip\n    const clipBBox = regionToBBox({ start, end });\n    layer.setClip({\n      type: 'rect',\n      attrs: {\n        x: clipBBox.minX,\n        y: clipBBox.minY,\n        width: clipBBox.width,\n        height: clipBBox.height,\n      },\n    });\n  }\n\n  private adjustShapeAttrs(attr: ShapeAttrs) {\n    const color = this.get('color');\n    if (attr.fill) {\n      attr.fill = attr.fillStyle = color;\n    }\n    attr.stroke = attr.strokeStyle = color;\n  }\n}\n\nexport default RegionFilterAnnotation;\n","import { IGroup } from '@antv/g-base';\nimport { isFunction, noop } from '@antv/util';\n\nimport GroupComponent from '../abstract/group-component';\nimport { ShapeAnnotationCfg } from '../types';\n\nexport default class ShapeAnnotation extends GroupComponent<ShapeAnnotationCfg> {\n  public getDefaultCfg() {\n    const cfg = super.getDefaultCfg();\n    return {\n      ...cfg,\n      name: 'annotation',\n      type: 'shape',\n      draw: noop,\n    };\n  }\n\n  protected renderInner(group: IGroup) {\n    const render = this.get('render');\n    if (isFunction(render)) {\n      render(group);\n    }\n  }\n}\n","import { createDom, getOuterHeight, getOuterWidth, modifyCSS } from '@antv/dom-util';\nimport { isElement, isFunction, isNumber, isString } from '@antv/util';\nimport HtmlComponent from '../abstract/html-component';\nimport { ILocation } from '../interfaces';\nimport { HtmlAnnotationCfg, PointLocationCfg } from '../types';\nimport { clearDom } from '../util/util';\n\nexport default class HtmlAnnotation extends HtmlComponent<HtmlAnnotationCfg> implements ILocation<PointLocationCfg> {\n  public getDefaultCfg() {\n    const cfg = super.getDefaultCfg();\n    return {\n      ...cfg,\n      name: 'annotation',\n      type: 'html',\n      locationType: 'point',\n      x: 0,\n      y: 0,\n      containerTpl: `<div class=\"g2-html-annotation\" style=\"position:absolute\"></div>`,\n      alignX: 'left',\n      alignY: 'top',\n      html: '',\n      zIndex: 7,\n    };\n  }\n\n  public render() {\n    const container = this.getContainer();\n    const html = this.get('html');\n\n    clearDom(container);\n\n    const rst: HTMLElement | string = isFunction(html) ? html(container) : html;\n\n    if (isElement(rst)) {\n      container.appendChild(rst as HTMLElement);\n    } else if (isString(rst) || isNumber(rst)) {\n      const dom = createDom(`${rst}` as string);\n      if (dom) {\n        container.appendChild(dom);\n      }\n    }\n\n    this.resetPosition();\n  }\n\n  protected resetPosition() {\n    const container = this.getContainer();\n    const { x, y } = this.getLocation();\n    const alignX = this.get('alignX');\n    const alignY = this.get('alignY');\n    const offsetX = this.get('offsetX');\n    const offsetY = this.get('offsetY');\n    const domWidth = getOuterWidth(container);\n    const domHeight = getOuterHeight(container);\n\n    const position = {\n      x, // alignX left\n      y, // alignY top\n    };\n\n    if (alignX === 'middle') {\n      position.x -= Math.round(domWidth / 2);\n    } else if (alignX === 'right') {\n      position.x -= Math.round(domWidth);\n    }\n    if (alignY === 'middle') {\n      position.y -= Math.round(domHeight / 2);\n    } else if (alignY === 'bottom') {\n      position.y -= Math.round(domHeight);\n    }\n    if (offsetX) {\n      position.x += offsetX;\n    }\n    if (offsetY) {\n      position.y += offsetY;\n    }\n\n    modifyCSS(container, {\n      position: 'absolute',\n      left: `${position.x}px`,\n      top: `${position.y}px`,\n      zIndex: this.get('zIndex'),\n    });\n  }\n}\n"],"names":["LOCATION_FIELD_MAP","none","point","region","points","circle","cfg","_super","_this","initCfg","__extends","Component","id","name","type","locationType","offsetX","offsetY","animate","capture","updateAutoRender","animateOption","appear","update","duration","easing","enter","leave","events","defaultCfg","visible","this","get","each","value","newCfg","isObject","deepMix","set","updateInner","afterUpdate","hasKey","show","hide","setCapture","getBBox","location","__assign","fields","field","Base","STATUS_UPDATE","COPY_PROPERTIES","COPY_PROPERTIES_EXCLUDES","GroupComponent","getDefaultCfg","call","container","shapesMap","group","isRegister","isUpdating","isInit","clear","remove","clearOffScreenCache","getElementById","localId","getElementId","rst","elem","push","offScreenRender","render","offScreenGroup","updateElements","deleteElements","applyOffset","initEvent","removeEvent","destroy","getCanvasBBox","bbox","getInnerLayoutBBox","matrix","getTotalMatrix","applyMatrix2BBox","evt","callback","once","on","off","eventName","eventObject","emit","init","initGroup","target","propagationDelegate","getGroupBase","delegateObject","getDelegateObject","moveElementTo","x","y","addGroup","isComponent","component","createOffScreenGroup","renderInner","getBBoxWithClip","parent","appendDelegateObject","registerElement","shape","addShape","Ctor","restCfg","inst","element","getMatrixByTranslate","attr","elmentName","newElement","animateCfg","originOpacity","isNil","opacity","elementName","originElement","newAttrs","newGroup","originGroup","preElement","children","getChildren","slice","elementId","childComponent","origChildComponent","pick","difference","keys","replaceAttrs","getReplaceAttrs","updateAnimation","isGroup","updateClip","add","siblings","splice","length","index","indexOf","unshift","registerNewGroup","addAnimation","el","_a","parentObject","mix","originAttrs","v","k","undefined","deleteArray","destroyed","item","callbackAnimCfg","removeElement","removeAnimation","HtmlComponent","containerTpl","containerClassName","style","display","getContainer","pointerEvents","parseFloat","left","top","createBBox","clientWidth","clientHeight","clearDom","removeDom","initContainer","initDom","resetStyles","applyStyles","initCapture","initVisible","createDom","parent_1","isString","document","appendChild","setAttribute","parentNode","defaultStyles","domStyles","applyChildrenStyles","hasClass","containerCss","modifyCSS","styles","elements","getElementsByClassName","cssName","dom","removeChild","resetPosition","LineAnnotation","start","end","text","fill","Theme","fontSize","textAlign","textBaseline","fontFamily","position","autoRotate","content","stroke","lineWidth","renderLine","renderLabel","attrs","x1","y1","x2","y2","percent","parseInt","isNumber","getValueByPercent","maxLength","autoEllipsis","ellipsisPosition","background","isVertical","getLabelPoint","vector","rotate","Math","atan2","renderTag","TextAnnotation","resetLocation","getLocation","textGroup","getElementByLocalId","applyTranslate","applyRotate","ArcAnnotation","center","radius","startAngle","PI","endAngle","renderArc","startPoint","getCirclePoint","endPoint","largeFlag","path","middlePoint","getArcPath","RegionAnnotation","renderRegion","regionToBBox","width","height","ImageAnnotation","src","renderImage","img","getImageAttrs","DataMarkerAnnotation","line","direction","autoAdjust","coordinateBBox","r","renderText","renderPoint","getShapeAttrs","textAttrs","isVertival","tagCfg","lineLength","minX","maxX","minY","maxY","findById","textShape","lineShape","translateX","translateY","xFactor","yFactor","overflow","lineDisplay","pointStyle","lineStyle","textStyle","DataRegionAnnotation","regionStyle","pointsToBBox","forEach","textCfg","RegionFilterAnnotation","color","layer","shapeIdx","clone","adjustShapeAttrs","clipBBox","setClip","fillStyle","strokeStyle","ShapeAnnotation","draw","noop","isFunction","HtmlAnnotation","alignX","alignY","html","zIndex","isElement","domWidth","getOuterWidth","domHeight","getOuterHeight","round"],"sourceRoot":""}