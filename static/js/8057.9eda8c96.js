"use strict";(self.webpackChunkjx3dps_online=self.webpackChunkjx3dps_online||[]).push([[8057],{34632:function(t,e,i){i.d(e,{J:function(){return o},U:function(){return a}});var n=i(54818);function o(t,e,i){var o={fillOpacity:(0,n.UM)(t.attr("fillOpacity"))?1:t.attr("fillOpacity"),strokeOpacity:(0,n.UM)(t.attr("strokeOpacity"))?1:t.attr("strokeOpacity"),opacity:(0,n.UM)(t.attr("opacity"))?1:t.attr("opacity")};t.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),t.animate(o,e)}function a(t,e,i){var n=e.easing,o=e.duration,a=e.delay;t.animate({fillOpacity:0,strokeOpacity:0,opacity:0},o,n,(function(){t.remove(!0)}),a)}},43045:function(t,e,i){i.d(e,{sm:function(){return r},a$:function(){return c},F9:function(){return s}});var n=i(29388),o=i(36403);function a(t,e,i,a,r){var s,c,p=i.start,u=i.end,h=i.getWidth(),l=i.getHeight();"y"===r?(s=p.x+h/2,c=a.y<p.y?a.y:p.y):"x"===r?(s=a.x>p.x?a.x:p.x,c=p.y+l/2):"xy"===r&&(i.isPolar?(s=i.getCenter().x,c=i.getCenter().y):(s=(p.x+u.x)/2,c=(p.y+u.y)/2));var f=function(t,e,i){var a,r=(0,n.CR)(e,2),s=r[0],c=r[1];return t.applyToMatrix([s,c,1]),"x"===i?(t.setMatrix(o.vs(t.getMatrix(),[["t",-s,-c],["s",.01,1],["t",s,c]])),a=o.vs(t.getMatrix(),[["t",-s,-c],["s",100,1],["t",s,c]])):"y"===i?(t.setMatrix(o.vs(t.getMatrix(),[["t",-s,-c],["s",1,.01],["t",s,c]])),a=o.vs(t.getMatrix(),[["t",-s,-c],["s",1,100],["t",s,c]])):"xy"===i&&(t.setMatrix(o.vs(t.getMatrix(),[["t",-s,-c],["s",.01,.01],["t",s,c]])),a=o.vs(t.getMatrix(),[["t",-s,-c],["s",100,100],["t",s,c]])),a}(t,[s,c],r);t.animate({matrix:f},e)}function r(t,e,i){a(t,e,i.coordinate,i.minYPoint,"x")}function s(t,e,i){a(t,e,i.coordinate,i.minYPoint,"y")}function c(t,e,i){a(t,e,i.coordinate,i.minYPoint,"xy")}},36181:function(t,e,i){i.d(e,{O:function(){return o},p:function(){return a}});var n={};function o(t){return n[t.toLowerCase()]}function a(t,e){n[t.toLowerCase()]=e}},58344:function(t,e,i){function n(t,e,i){var n=t.getTotalLength();t.attr("lineDash",[n]),t.animate((function(t){return{lineDashOffset:(1-t)*n}}),e)}i.d(e,{_:function(){return n}})},89905:function(t,e,i){function n(t,e,i){var n=i.toAttrs,o=n.x,a=n.y;delete n.x,delete n.y,t.attr(n),t.animate({x:o,y:a},e)}i.d(e,{K:function(){return n}})},74358:function(t,e,i){i.d(e,{V:function(){return o},e:function(){return a}});var n=i(36403);function o(t,e,i){var o=t.getBBox(),a=t.get("origin").mappingData.points,r=a[0].y-a[1].y>0?o.maxX:o.minX,s=(o.minY+o.maxY)/2;t.applyToMatrix([r,s,1]);var c=n.vs(t.getMatrix(),[["t",-r,-s],["s",.01,1],["t",r,s]]);t.setMatrix(c),t.animate({matrix:n.vs(t.getMatrix(),[["t",-r,-s],["s",100,1],["t",r,s]])},e)}function a(t,e,i){var o=t.getBBox(),a=t.get("origin").mappingData,r=(o.minX+o.maxX)/2,s=a.points,c=s[0].y-s[1].y<=0?o.maxY:o.minY;t.applyToMatrix([r,c,1]);var p=n.vs(t.getMatrix(),[["t",-r,-c],["s",1,.01],["t",r,c]]);t.setMatrix(p),t.animate({matrix:n.vs(t.getMatrix(),[["t",-r,-c],["s",1,100],["t",r,c]])},e)}},54457:function(t,e,i){i.d(e,{h:function(){return u}});var n=i(29388),o=i(85736),a=i(54818),r=i(83579);function s(t,e){var i,r=(0,o.getArcParams)(t,e),s=r.startAngle,c=r.endAngle;return!(0,a.vQ)(s,.5*-Math.PI)&&s<.5*-Math.PI&&(s+=2*Math.PI),!(0,a.vQ)(c,.5*-Math.PI)&&c<.5*-Math.PI&&(c+=2*Math.PI),0===e[5]&&(s=(i=(0,n.CR)([c,s],2))[0],c=i[1]),(0,a.vQ)(s,1.5*Math.PI)&&(s=-.5*Math.PI),(0,a.vQ)(c,-.5*Math.PI)&&!(0,a.vQ)(s,c)&&(c=1.5*Math.PI),{startAngle:s,endAngle:c}}function c(t){var e;return"M"===t[0]||"L"===t[0]?e=[t[1],t[2]]:"a"!==t[0]&&"A"!==t[0]&&"C"!==t[0]||(e=[t[t.length-2],t[t.length-1]]),e}function p(t){var e,i,o,r=t.filter((function(t){return"A"===t[0]||"a"===t[0]}));if(0===r.length)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var p=r[0],u=r.length>1?r[1]:r[0],h=t.indexOf(p),l=t.indexOf(u),f=c(t[h-1]),d=c(t[l-1]),g=s(f,p),v=g.startAngle,y=g.endAngle,m=s(d,u),C=m.startAngle,x=m.endAngle;(0,a.vQ)(v,C)&&(0,a.vQ)(y,x)?(i=v,o=y):(i=Math.min(v,C),o=Math.max(y,x));var w=p[1],A=r[r.length-1][1];return w<A?(w=(e=(0,n.CR)([A,w],2))[0],A=e[1]):w===A&&(A=0),{startAngle:i,endAngle:o,radius:w,innerRadius:A}}function u(t,e,i){var o=i.toAttrs,s=i.coordinate,c=o.path||[],u=c.map((function(t){return t[0]}));if(!(c.length<1)){var h=p(c),l=h.startAngle,f=h.endAngle,d=h.radius,g=h.innerRadius,v=p(t.attr("path")),y=v.startAngle,m=v.endAngle,C=s.getCenter(),x=l-y,w=f-m;0!==x||0!==w?t.animate((function(t){var e=y+t*x,i=m+t*w;return(0,n.pi)((0,n.pi)({},o),{path:(0,a.Xy)(u,["M","A","A","Z"])?(0,r.ad)(C.x,C.y,d,e,i):(0,r.w4)(C.x,C.y,d,e,i,g)})}),(0,n.pi)((0,n.pi)({},e),{callback:function(){t.attr("path",c),(0,a.mf)(e.callback)&&e.callback()}})):t.attr("path",c)}}},22104:function(t,e,i){i.d(e,{j:function(){return r}});var n=i(29388),o=i(54818),a=i(34482);function r(t,e,i){var r=(0,a.GC)(i.coordinate,20),s=r.type,c=r.startState,p=r.endState,u=t.setClip({type:s,attrs:c});i.toAttrs&&t.attr(i.toAttrs),u.animate(p,(0,n.pi)((0,n.pi)({},e),{callback:function(){t&&!t.get("destroyed")&&t.set("clipShape",null),u.remove(!0),(0,o.mf)(e.callback)&&e.callback()}}))}},70786:function(t,e,i){i.d(e,{k:function(){return s},v:function(){return c}});var n=i(29388),o=i(36403),a=i(54818);function r(t,e,i){if(t.isGroup())(0,a.S6)(t.getChildren(),(function(t){r(t,e,i)}));else{var s=t.getBBox(),c=(s.minX+s.maxX)/2,p=(s.minY+s.maxY)/2;if(t.applyToMatrix([c,p,1]),"zoomIn"===i){var u=o.vs(t.getMatrix(),[["t",-c,-p],["s",.01,.01],["t",c,p]]);t.setMatrix(u),t.animate({matrix:o.vs(t.getMatrix(),[["t",-c,-p],["s",100,100],["t",c,p]])},e)}else t.animate({matrix:o.vs(t.getMatrix(),[["t",-c,-p],["s",.01,.01],["t",c,p]])},(0,n.pi)((0,n.pi)({},e),{callback:function(){t.remove(!0),(0,a.mf)(e.callback)&&e.callback()}}))}}function s(t,e,i){r(t,e,"zoomIn")}function c(t,e,i){r(t,e,"zoomOut")}},51698:function(t,e,i){i.d(e,{IZ:function(){return h},cd:function(){return u},pq:function(){return s},zu:function(){return l}});var n=i(29388),o=i(54818),a=i(24625),r=i(36181),s={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},c={interval:function(t){return{enter:{animation:t.isRect?t.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:t.isPolar&&t.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},p={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(t){var e;return t.isRect?e=t.isTransposed?"grow-in-x":"grow-in-y":(e="grow-in-xy",t.isPolar&&t.isTransposed&&(e="wave-in")),{animation:e}},schema:function(t){return{animation:t.isRect?t.isTransposed?"grow-in-x":"grow-in-y":"grow-in-xy"}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function u(t,e,i){var n=c[t];return n&&((0,o.mf)(n)&&(n=n(e)),n=(0,o.b$)({},s,n),i)?n[i]:n}function h(t,e,i){var n=(0,o.U2)(t.get("origin"),"data",a.wv),s=e.animation,c=function(t,e){return{delay:(0,o.mf)(t.delay)?t.delay(e):t.delay,easing:(0,o.mf)(t.easing)?t.easing(e):t.easing,duration:(0,o.mf)(t.duration)?t.duration(e):t.duration,callback:t.callback,repeat:t.repeat}}(e,n);if(s){var p=(0,r.O)(s);p&&p(t,c,i)}else t.animate(i.toAttrs,c)}function l(t,e,i,a,c){if(p[i]){var u=p[i](a),h=(0,r.O)((0,o.U2)(u,"animation",""));if(h){var l=(0,n.pi)((0,n.pi)((0,n.pi)({},s.appear),u),e);t.stopAnimate(),h(t,l,{coordinate:a,minYPoint:c,toAttrs:null})}}}},18347:function(t,e,i){var n=i(29388),o=function(t){function e(e){var i=t.call(this)||this;i.destroyed=!1;var n=e.visible,o=void 0===n||n;return i.visible=o,i}return(0,n.ZT)(e,t),e.prototype.show=function(){this.visible||this.changeVisible(!0)},e.prototype.hide=function(){this.visible&&this.changeVisible(!1)},e.prototype.destroy=function(){this.off(),this.destroyed=!0},e.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},e}(i(82469).Z);e.Z=o},83124:function(t,e,i){var n=i(29388),o=i(54818),a=i(24625),r=i(13943),s=i(20573),c=function(t){function e(e){var i=this,c=e.container,p=e.width,u=e.height,h=e.autoFit,l=void 0!==h&&h,f=e.padding,d=e.appendPadding,g=e.renderer,v=void 0===g?"canvas":g,y=e.pixelRatio,m=e.localRefresh,C=void 0===m||m,x=e.visible,w=void 0===x||x,A=e.supportCSSTransform,R=void 0!==A&&A,T=e.defaultInteractions,M=void 0===T?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text","axis-description"]:T,b=e.options,O=e.limitInPlot,I=e.theme,E=e.syncViewPadding,L=(0,o.HD)(c)?document.getElementById(c):c,S=(0,s.WV)('<div style="position:relative;"></div>');L.appendChild(S);var k=(0,s.W1)(L,l,p,u),P=new((0,r.m)(v).Canvas)((0,n.pi)({container:S,pixelRatio:y,localRefresh:C,supportCSSTransform:R},k));return(i=t.call(this,{parent:null,canvas:P,backgroundGroup:P.addGroup({zIndex:a.mJ.BG}),middleGroup:P.addGroup({zIndex:a.mJ.MID}),foregroundGroup:P.addGroup({zIndex:a.mJ.FORE}),padding:f,appendPadding:d,visible:w,options:b,limitInPlot:O,theme:I,syncViewPadding:E})||this).onResize=(0,o.Ds)((function(){i.forceFit()}),300),i.ele=L,i.canvas=P,i.width=k.width,i.height=k.height,i.autoFit=l,i.localRefresh=C,i.renderer=v,i.wrapperElement=S,i.updateCanvasStyle(),i.bindAutoFit(),i.initDefaultInteractions(M),i}return(0,n.ZT)(e,t),e.prototype.initDefaultInteractions=function(t){var e=this;(0,o.S6)(t,(function(t){e.interaction(t)}))},e.prototype.aria=function(t){var e="aria-label";!1===t?this.ele.removeAttribute(e):this.ele.setAttribute(e,t.label)},e.prototype.changeSize=function(t,e){return this.width===t&&this.height===e||(this.emit(a.ld.BEFORE_CHANGE_SIZE),this.width=t,this.height=e,this.canvas.changeSize(t,e),this.render(!0),this.emit(a.ld.AFTER_CHANGE_SIZE)),this},e.prototype.clear=function(){t.prototype.clear.call(this),this.aria(!1)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),(0,s.dk)(this.wrapperElement),this.wrapperElement=null},e.prototype.changeVisible=function(e){return t.prototype.changeVisible.call(this,e),this.wrapperElement.style.display=e?"":"none",this},e.prototype.forceFit=function(){if(!this.destroyed){var t=(0,s.W1)(this.ele,!0,this.width,this.height),e=t.width,i=t.height;this.changeSize(e,i)}},e.prototype.updateCanvasStyle=function(){(0,s.yl)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},e.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},e.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},e}(i(95438).ZP);e.Z=c},76923:function(t,e,i){var n=i(29388),o=i(54818),a=i(47540),r=i(51698),s=i(24625),c=i(34482),p=i(41648),u=i(4457),h=i(51097),l=["regionFilter","shape"],f=function(t){function e(e){var i=t.call(this,e)||this;return i.cache=new Map,i.foregroundContainer=i.view.getLayer(s.JM.FORE).addGroup(),i.backgroundContainer=i.view.getLayer(s.JM.BG).addGroup(),i.option=[],i}return(0,n.ZT)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.layout=function(){this.update()},e.prototype.render=function(){},e.prototype.update=function(){var t=this;this.onAfterRender((function(){var e=new Map;(0,o.S6)(t.option,(function(i){if((0,o.q9)(l,i.type)){var n=t.updateOrCreate(i);n&&e.set(t.getCacheKey(i),n)}})),t.cache=t.syncCache(e)}));var e=new Map;(0,o.S6)(this.option,(function(i){if(!(0,o.q9)(l,i.type)){var n=t.updateOrCreate(i);n&&e.set(t.getCacheKey(i),n)}})),this.cache=this.syncCache(e)},e.prototype.clear=function(e){void 0===e&&(e=!1),t.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),e&&(this.option=[])},e.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},e.prototype.getComponents=function(){var t=[];return this.cache.forEach((function(e){t.push(e)})),t},e.prototype.clearComponents=function(){this.getComponents().forEach((function(t){t.component.destroy()})),this.cache.clear()},e.prototype.onAfterRender=function(t){var e=!1;this.view.getOptions().animate&&this.view.geometries.forEach((function(i){i.animateOption&&(i.once(s.oz.AFTER_DRAW_ANIMATE,(function(){t()})),e=!0)})),e||this.view.getRootView().once(s.ld.AFTER_RENDER,(function(){t()}))},e.prototype.createAnnotation=function(t){var e=t.type,i=a.q6[(0,o.jC)(e)];if(i){var n=this.getAnnotationTheme(e),r=this.getAnnotationCfg(e,t,n);return r?{component:new i(r),layer:this.isTop(r)?s.JM.FORE:s.JM.BG,direction:s.JR.NONE,type:s.TN.ANNOTATION,extra:t}:null}},e.prototype.annotation=function(t){this.option.push(t)},e.prototype.arc=function(t){return this.annotation((0,n.pi)({type:"arc"},t)),this},e.prototype.image=function(t){return this.annotation((0,n.pi)({type:"image"},t)),this},e.prototype.line=function(t){return this.annotation((0,n.pi)({type:"line"},t)),this},e.prototype.region=function(t){return this.annotation((0,n.pi)({type:"region"},t)),this},e.prototype.text=function(t){return this.annotation((0,n.pi)({type:"text"},t)),this},e.prototype.dataMarker=function(t){return this.annotation((0,n.pi)({type:"dataMarker"},t)),this},e.prototype.dataRegion=function(t){this.annotation((0,n.pi)({type:"dataRegion"},t))},e.prototype.regionFilter=function(t){this.annotation((0,n.pi)({type:"regionFilter"},t))},e.prototype.shape=function(t){this.annotation((0,n.pi)({type:"shape"},t))},e.prototype.html=function(t){this.annotation((0,n.pi)({type:"html"},t))},e.prototype.parsePosition=function(t){var e,i,a=this.view.getXScale(),r=this.view.getScalesByDim("y"),s=(0,o.mf)(t)?t.call(null,a,r):t,c=0,p=0;if((0,o.kJ)(s)){var h=(0,n.CR)(s,2),l=h[0],f=h[1];if((0,o.HD)(l)&&-1!==l.indexOf("%")&&!isNaN(l.slice(0,-1)))return this.parsePercentPosition(s);c=(0,u.f)(l,a),p=(0,u.f)(f,Object.values(r)[0])}else if(!(0,o.UM)(s))try{for(var d=(0,n.XA)((0,o.XP)(s)),g=d.next();!g.done;g=d.next()){var v=g.value,y=s[v];v===a.field&&(c=(0,u.f)(y,a)),r[v]&&(p=(0,u.f)(y,r[v]))}}catch(m){e={error:m}}finally{try{g&&!g.done&&(i=d.return)&&i.call(d)}finally{if(e)throw e.error}}return isNaN(c)||isNaN(p)?null:this.view.getCoordinate().convert({x:c,y:p})},e.prototype.getRegionPoints=function(t,e){var i,n=this,a=this.view.getXScale(),r=this.view.getScalesByDim("y"),s=Object.values(r)[0],c=a.field,p=this.view.getData(),u=(0,o.kJ)(t)?t[0]:t[c],h=(0,o.kJ)(e)?e[0]:e[c],l=[];return(0,o.S6)(p,(function(t,e){if(t[c]===u&&(i=e),e>=i){var o=n.parsePosition([t[c],t[s.field]]);o&&l.push(o)}if(t[c]===h)return!1})),l},e.prototype.parsePercentPosition=function(t){var e=parseFloat(t[0])/100,i=parseFloat(t[1])/100,n=this.view.getCoordinate(),o=n.start,a=n.end,r=Math.min(o.x,a.x),s=Math.min(o.y,a.y);return{x:n.getWidth()*e+r,y:n.getHeight()*i+s}},e.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),e=t.start,i=t.end,n=t.getWidth(),o=t.getHeight(),a={x:Math.min(e.x,i.x),y:Math.min(e.y,i.y)};return{x:a.x,y:a.y,minX:a.x,minY:a.y,maxX:a.x+n,maxY:a.y+o,width:n,height:o}},e.prototype.getAnnotationCfg=function(t,e,i){var a=this,s=this.view.getCoordinate(),p=this.view.getCanvas(),u={};if((0,o.UM)(e))return null;var h=e.start,l=e.end,f=e.position,d=this.parsePosition(h),g=this.parsePosition(l),v=this.parsePosition(f);if(!(!["arc","image","line","region","regionFilter"].includes(t)||d&&g))return null;if(["text","dataMarker","html"].includes(t)&&!v)return null;if("arc"===t){var y=e,m=(y.start,y.end,(0,n._T)(y,["start","end"])),C=(0,c.Oy)(s,d),x=(0,c.Oy)(s,g);C>x&&(x=2*Math.PI+x),u=(0,n.pi)((0,n.pi)({},m),{center:s.getCenter(),radius:(0,c.zY)(s,d),startAngle:C,endAngle:x})}else if("image"===t){var w=e;w.start,w.end,m=(0,n._T)(w,["start","end"]);u=(0,n.pi)((0,n.pi)({},m),{start:d,end:g,src:e.src})}else if("line"===t){var A=e;A.start,A.end,m=(0,n._T)(A,["start","end"]);u=(0,n.pi)((0,n.pi)({},m),{start:d,end:g,text:(0,o.U2)(e,"text",null)})}else if("region"===t){var R=e;R.start,R.end,m=(0,n._T)(R,["start","end"]);u=(0,n.pi)((0,n.pi)({},m),{start:d,end:g})}else if("text"===t){var T=this.view.getData(),M=e,b=(M.position,M.content),O=(m=(0,n._T)(M,["position","content"]),b);(0,o.mf)(b)&&(O=b(T)),u=(0,n.pi)((0,n.pi)((0,n.pi)({},v),m),{content:O})}else if("dataMarker"===t){var I=e,E=(I.position,I.point),L=I.line,S=I.text,k=I.autoAdjust,P=I.direction;m=(0,n._T)(I,["position","point","line","text","autoAdjust","direction"]);u=(0,n.pi)((0,n.pi)((0,n.pi)({},m),v),{coordinateBBox:this.getCoordinateBBox(),point:E,line:L,text:S,autoAdjust:k,direction:P})}else if("dataRegion"===t){var G=e,F=G.start,J=G.end,U=G.region,D=(S=G.text,G.lineLength);m=(0,n._T)(G,["start","end","region","text","lineLength"]);u=(0,n.pi)((0,n.pi)({},m),{points:this.getRegionPoints(F,J),region:U,text:S,lineLength:D})}else if("regionFilter"===t){var N=e,B=(N.start,N.end,N.apply),X=N.color,Y=(m=(0,n._T)(N,["start","end","apply","color"]),this.view.geometries),z=[],_=function t(e){e&&(e.isGroup()?e.getChildren().forEach((function(e){return t(e)})):z.push(e))};(0,o.S6)(Y,(function(t){B?(0,o.FX)(B,t.type)&&(0,o.S6)(t.elements,(function(t){_(t.shape)})):(0,o.S6)(t.elements,(function(t){_(t.shape)}))})),u=(0,n.pi)((0,n.pi)({},m),{color:X,shapes:z,start:d,end:g})}else if("shape"===t){var Z=e,V=Z.render,Q=(0,n._T)(Z,["render"]);u=(0,n.pi)((0,n.pi)({},Q),{render:function(t){if((0,o.mf)(e.render))return V(t,a.view,{parsePosition:a.parsePosition.bind(a)})}})}else if("html"===t){var $=e,j=$.html;$.position,Q=(0,n._T)($,["html","position"]);u=(0,n.pi)((0,n.pi)((0,n.pi)({},Q),v),{parent:p.get("el").parentNode,html:function(t){return(0,o.mf)(j)?j(t,a.view):j}})}var K=(0,o.b$)({},i,(0,n.pi)((0,n.pi)({},u),{top:e.top,style:e.style,offsetX:e.offsetX,offsetY:e.offsetY}));return"html"!==t&&(K.container=this.getComponentContainer(K)),K.animate=this.view.getOptions().animate&&K.animate&&(0,o.U2)(e,"animate",K.animate),K.animateOption=(0,o.b$)({},r.pq,K.animateOption,e.animateOption),K},e.prototype.isTop=function(t){return(0,o.U2)(t,"top",!0)},e.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},e.prototype.getAnnotationTheme=function(t){return(0,o.U2)(this.view.getTheme(),["components","annotation",t],{})},e.prototype.updateOrCreate=function(t){var e=this.cache.get(this.getCacheKey(t));if(e){var i=t.type,a=this.getAnnotationTheme(i),r=this.getAnnotationCfg(i,t,a);r&&(0,p.CE)(r,["container"]),e.component.update((0,n.pi)((0,n.pi)({},r||{}),{visible:!!r})),(0,o.q9)(l,t.type)&&e.component.render()}else(e=this.createAnnotation(t))&&(e.component.init(),(0,o.q9)(l,t.type)&&e.component.render());return e},e.prototype.syncCache=function(t){var e=this,i=new Map(this.cache);return t.forEach((function(t,e){i.set(e,t)})),i.forEach((function(t,n){(0,o.sE)(e.option,(function(t){return n===e.getCacheKey(t)}))||(t.component.destroy(),i.delete(n))})),i},e.prototype.getCacheKey=function(t){return t},e}(h.Q);e.Z=f},16935:function(t,e,i){var n=i(29388),o=i(54818),a=i(24625),r=i(47540),s=i(51698),c=i(17318),p=i(69802),u=i(41648),h=i(51097),l=["container"],f=(0,n.pi)((0,n.pi)({},s.pq),{appear:null}),d=function(t){function e(e){var i=t.call(this,e)||this;return i.cache=new Map,i.gridContainer=i.view.getLayer(a.JM.BG).addGroup(),i.gridForeContainer=i.view.getLayer(a.JM.FORE).addGroup(),i.axisContainer=i.view.getLayer(a.JM.BG).addGroup(),i.axisForeContainer=i.view.getLayer(a.JM.FORE).addGroup(),i}return(0,n.ZT)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){this.update()},e.prototype.layout=function(){var t=this,e=this.view.getCoordinate();(0,o.S6)(this.getComponents(),(function(i){var n,o=i.component,r=i.direction,s=i.type,u=i.extra,h=u.dim,l=u.scale,f=u.alignTick;if(s===a.TN.AXIS)e.isPolar?"x"===h?n=e.isTransposed?(0,c.gU)(e,r):(0,c.Kr)(e):"y"===h&&(n=e.isTransposed?(0,c.Kr)(e):(0,c.gU)(e,r)):n=(0,c.gU)(e,r);else if(s===a.TN.GRID)if(e.isPolar){n={items:e.isTransposed?"x"===h?(0,p.aZ)(e,t.view.getYScales()[0],l,f,h):(0,p.p4)(e,l,h,f):"x"===h?(0,p.p4)(e,l,h,f):(0,p.aZ)(e,t.view.getXScale(),l,f,h),center:t.view.getCoordinate().getCenter()}}else n={items:(0,p.p4)(e,l,h,f)};o.update(n)}))},e.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var e=new Map;this.cache.forEach((function(i,n){t.has(n)?e.set(n,i):i.component.destroy()})),this.cache=e},e.prototype.clear=function(){t.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},e.prototype.getComponents=function(){var t=[];return this.cache.forEach((function(e){t.push(e)})),t},e.prototype.updateXAxes=function(t){var e=this.view.getXScale();if(e&&!e.isIdentity){var i=(0,c.dK)(this.option,e.field);if(!1!==i){var n=(0,c.VR)(i,a.JR.BOTTOM),r=a.JM.BG,s="x",p=this.view.getCoordinate(),h=this.getId("axis",e.field),f=this.getId("grid",e.field);if(p.isRect){if(g=this.cache.get(h)){var d=this.getLineAxisCfg(e,i,n);(0,u.CE)(d,l),g.component.update(d),t.set(h,g)}else g=this.createLineAxis(e,i,r,n,s),this.cache.set(h,g),t.set(h,g);if(v=this.cache.get(f)){d=this.getLineGridCfg(e,i,n,s);(0,u.CE)(d,l),v.component.update(d),t.set(f,v)}else(v=this.createLineGrid(e,i,r,n,s))&&(this.cache.set(f,v),t.set(f,v))}else if(p.isPolar){var g,v;if(g=this.cache.get(h)){d=p.isTransposed?this.getLineAxisCfg(e,i,a.JR.RADIUS):this.getCircleAxisCfg(e,i,n);(0,u.CE)(d,l),g.component.update(d),t.set(h,g)}else{if(p.isTransposed){if((0,o.o8)(i))return;g=this.createLineAxis(e,i,r,a.JR.RADIUS,s)}else g=this.createCircleAxis(e,i,r,n,s);this.cache.set(h,g),t.set(h,g)}if(v=this.cache.get(f)){d=p.isTransposed?this.getCircleGridCfg(e,i,a.JR.RADIUS,s):this.getLineGridCfg(e,i,a.JR.CIRCLE,s);(0,u.CE)(d,l),v.component.update(d),t.set(f,v)}else{if(p.isTransposed){if((0,o.o8)(i))return;v=this.createCircleGrid(e,i,r,a.JR.RADIUS,s)}else v=this.createLineGrid(e,i,r,a.JR.CIRCLE,s);v&&(this.cache.set(f,v),t.set(f,v))}}}}},e.prototype.updateYAxes=function(t){var e=this,i=this.view.getYScales();(0,o.S6)(i,(function(i,n){if(i&&!i.isIdentity){var r=i.field,s=(0,c.dK)(e.option,r);if(!1!==s){var p=a.JM.BG,h="y",f=e.getId("axis",r),d=e.getId("grid",r),g=e.view.getCoordinate();if(g.isRect){var v=(0,c.VR)(s,0===n?a.JR.LEFT:a.JR.RIGHT);if(m=e.cache.get(f)){var y=e.getLineAxisCfg(i,s,v);(0,u.CE)(y,l),m.component.update(y),t.set(f,m)}else m=e.createLineAxis(i,s,p,v,h),e.cache.set(f,m),t.set(f,m);if(C=e.cache.get(d)){y=e.getLineGridCfg(i,s,v,h);(0,u.CE)(y,l),C.component.update(y),t.set(d,C)}else(C=e.createLineGrid(i,s,p,v,h))&&(e.cache.set(d,C),t.set(d,C))}else if(g.isPolar){var m,C;if(m=e.cache.get(f)){y=g.isTransposed?e.getCircleAxisCfg(i,s,a.JR.CIRCLE):e.getLineAxisCfg(i,s,a.JR.RADIUS);(0,u.CE)(y,l),m.component.update(y),t.set(f,m)}else{if(g.isTransposed){if((0,o.o8)(s))return;m=e.createCircleAxis(i,s,p,a.JR.CIRCLE,h)}else m=e.createLineAxis(i,s,p,a.JR.RADIUS,h);e.cache.set(f,m),t.set(f,m)}if(C=e.cache.get(d)){y=g.isTransposed?e.getLineGridCfg(i,s,a.JR.CIRCLE,h):e.getCircleGridCfg(i,s,a.JR.RADIUS,h);(0,u.CE)(y,l),C.component.update(y),t.set(d,C)}else{if(g.isTransposed){if((0,o.o8)(s))return;C=e.createLineGrid(i,s,p,a.JR.CIRCLE,h)}else C=e.createCircleGrid(i,s,p,a.JR.RADIUS,h);C&&(e.cache.set(d,C),t.set(d,C))}}}}}))},e.prototype.createLineAxis=function(t,e,i,n,o){var s={component:new r.$y(this.getLineAxisCfg(t,e,n)),layer:i,direction:n===a.JR.RADIUS?a.JR.NONE:n,type:a.TN.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},e.prototype.createLineGrid=function(t,e,i,n,s){var c=this.getLineGridCfg(t,e,n,s);if(c){var p={component:new r.$b(c),layer:i,direction:a.JR.NONE,type:a.TN.GRID,extra:{dim:s,scale:t,alignTick:(0,o.U2)(c,"alignTick",!0)}};return p.component.init(),p}},e.prototype.createCircleAxis=function(t,e,i,n,o){var s={component:new r.Wb(this.getCircleAxisCfg(t,e,n)),layer:i,direction:n,type:a.TN.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},e.prototype.createCircleGrid=function(t,e,i,n,s){var c=this.getCircleGridCfg(t,e,n,s);if(c){var p={component:new r.iD(c),layer:i,direction:a.JR.NONE,type:a.TN.GRID,extra:{dim:s,scale:t,alignTick:(0,o.U2)(c,"alignTick",!0)}};return p.component.init(),p}},e.prototype.getLineAxisCfg=function(t,e,i){var a=(0,o.U2)(e,["top"])?this.axisForeContainer:this.axisContainer,r=this.view.getCoordinate(),s=(0,c.gU)(r,i),p=(0,c.D3)(t,e),u=(0,c.Or)(this.view.getTheme(),i),h=(0,o.U2)(e,["title"])?(0,o.b$)({title:{style:{text:p}}},{title:(0,c.bT)(this.view.getTheme(),i,e.title)},e):e,l=(0,o.b$)((0,n.pi)((0,n.pi)({container:a},s),{ticks:t.getTicks().map((function(t){return{id:"".concat(t.tickValue),name:t.text,value:t.value}})),verticalFactor:r.isPolar?-1*(0,c.e3)(s,r.getCenter()):(0,c.e3)(s,r.getCenter()),theme:u}),u,h),f=this.getAnimateCfg(l),d=f.animate,g=f.animateOption;l.animateOption=g,l.animate=d;var v=(0,c.cp)(s),y=(0,o.U2)(l,"verticalLimitLength",v?1/3:.5);if(y<=1){var m=this.view.getCanvas().get("width"),C=this.view.getCanvas().get("height");l.verticalLimitLength=y*(v?m:C)}return l},e.prototype.getLineGridCfg=function(t,e,i,n){if((0,p.tv)((0,c.Or)(this.view.getTheme(),i),e)){var a=(0,p.l7)(this.view.getTheme(),i),r=(0,o.b$)({container:(0,o.U2)(e,["top"])?this.gridForeContainer:this.gridContainer},a,(0,o.U2)(e,"grid"),this.getAnimateCfg(e));return r.items=(0,p.p4)(this.view.getCoordinate(),t,n,(0,o.U2)(r,"alignTick",!0)),r}},e.prototype.getCircleAxisCfg=function(t,e,i){var r=(0,o.U2)(e,["top"])?this.axisForeContainer:this.axisContainer,s=this.view.getCoordinate(),p=t.getTicks().map((function(t){return{id:"".concat(t.tickValue),name:t.text,value:t.value}}));t.isCategory||Math.abs(s.endAngle-s.startAngle)!==2*Math.PI||p.length&&(p[p.length-1].name="");var u=(0,c.D3)(t,e),h=(0,c.Or)(this.view.getTheme(),a.JR.CIRCLE),l=(0,o.U2)(e,["title"])?(0,o.b$)({title:{style:{text:u}}},{title:(0,c.bT)(this.view.getTheme(),i,e.title)},e):e,f=(0,o.b$)((0,n.pi)((0,n.pi)({container:r},(0,c.Kr)(this.view.getCoordinate())),{ticks:p,verticalFactor:1,theme:h}),h,l),d=this.getAnimateCfg(f),g=d.animate,v=d.animateOption;return f.animate=g,f.animateOption=v,f},e.prototype.getCircleGridCfg=function(t,e,i,n){if((0,p.tv)((0,c.Or)(this.view.getTheme(),i),e)){var r=(0,p.l7)(this.view.getTheme(),a.JR.RADIUS),s=(0,o.b$)({container:(0,o.U2)(e,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},r,(0,o.U2)(e,"grid"),this.getAnimateCfg(e)),u=(0,o.U2)(s,"alignTick",!0),h="x"===n?this.view.getYScales()[0]:this.view.getXScale();return s.items=(0,p.aZ)(this.view.getCoordinate(),h,t,u,n),s}},e.prototype.getId=function(t,e){var i=this.view.getCoordinate();return"".concat(t,"-").concat(e,"-").concat(i.type)},e.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&(0,o.U2)(t,"animate"),animateOption:t&&t.animateOption?(0,o.b$)({},f,t.animateOption):f}},e}(h.Q);e.Z=d},51097:function(t,e,i){i.d(e,{Q:function(){return o}});var n=i(54818),o=function(){function t(t){this.visible=!0,this.components=[],this.view=t}return t.prototype.clear=function(t){(0,n.S6)(this.components,(function(t){t.component.destroy()})),this.components=[]},t.prototype.destroy=function(){this.clear()},t.prototype.getComponents=function(){return this.components},t.prototype.changeVisible=function(t){this.visible!==t&&(this.components.forEach((function(e){t?e.component.show():e.component.hide()})),this.visible=t)},t}()},37526:function(t,e,i){var n=i(29388),o=i(54818),a=i(47540),r=function(){function t(t){this.option=this.wrapperOption(t)}return t.prototype.update=function(t){return this.option=this.wrapperOption(t),this},t.prototype.hasAction=function(t){var e=this.option.actions;return(0,o.G)(e,(function(e){return e[0]===t}))},t.prototype.create=function(t,e){var i=this.option,o=i.type,r=i.cfg,s="theta"===o,c=(0,n.pi)({start:t,end:e},r),p=(0,a.FY)(s?"polar":o);return this.coordinate=new p(c),this.coordinate.type=o,s&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},t.prototype.adjust=function(t,e){return this.coordinate.update({start:t,end:e}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},t.prototype.rotate=function(t){return this.option.actions.push(["rotate",t]),this},t.prototype.reflect=function(t){return this.option.actions.push(["reflect",t]),this},t.prototype.scale=function(t,e){return this.option.actions.push(["scale",t,e]),this},t.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},t.prototype.getOption=function(){return this.option},t.prototype.getCoordinate=function(){return this.coordinate},t.prototype.wrapperOption=function(t){return(0,n.pi)({type:"rect",actions:[],cfg:{}},t)},t.prototype.execActions=function(t){var e=this,i=this.option.actions;(0,o.S6)(i,(function(i){var a,r=(0,n.CR)(i),s=r[0],c=r.slice(1);(!!(0,o.UM)(t)||t.includes(s))&&(a=e.coordinate)[s].apply(a,(0,n.ev)([],(0,n.CR)(c),!1))}))},t}();e.Z=r}}]);
//# sourceMappingURL=8057.9eda8c96.js.map