"use strict";(self.webpackChunkjx3dps_online=self.webpackChunkjx3dps_online||[]).push([[7436],{26321:function(t,e,n){var i=n(29388),o=n(34494),r=n(54818),a={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},s=function(t){function e(e){var n=t.call(this,e)||this;return n.initCfg(),n}return(0,i.ZT)(e,t),e.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},e.prototype.clear=function(){},e.prototype.update=function(t){var e=this,n=this.get("defaultCfg")||{};(0,r.S6)(t,(function(t,i){var o=t;e.get(i)!==t&&((0,r.Kn)(t)&&n[i]&&(o=(0,r.b$)({},n[i],t)),e.set(i,o))})),this.updateInner(t),this.afterUpdate(t)},e.prototype.updateInner=function(t){},e.prototype.afterUpdate=function(t){(0,r.wH)(t,"visible")&&(t.visible?this.show():this.hide()),(0,r.wH)(t,"capture")&&this.setCapture(t.capture)},e.prototype.getLayoutBBox=function(){return this.getBBox()},e.prototype.getLocationType=function(){return this.get("locationType")},e.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},e.prototype.setOffset=function(t,e){this.update({offsetX:t,offsetY:e})},e.prototype.setLocation=function(t){var e=(0,i.pi)({},t);this.update(e)},e.prototype.getLocation=function(){var t=this,e={},n=this.get("locationType"),i=a[n];return(0,r.S6)(i,(function(n){e[n]=t.get(n)})),e},e.prototype.isList=function(){return!1},e.prototype.isSlider=function(){return!1},e.prototype.init=function(){},e.prototype.initCfg=function(){var t=this,e=this.get("defaultCfg");(0,r.S6)(e,(function(e,n){var i=t.get(n);if((0,r.Kn)(i)){var o=(0,r.b$)({},e,i);t.set(n,o)}}))},e}(o.Base);e.Z=s},31154:function(t,e,n){var i=n(29388),o=n(54818),r=n(54380),a=n(58799),s=n(44700),p=n(26321),l="update_status",u=["visible","tip","delegateObject"],h=["container","group","shapesMap","isRegister","isUpdating","destroyed"],g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.pi)((0,i.pi)({},e),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},e.prototype.remove=function(){this.clear(),this.get("group").remove()},e.prototype.clear=function(){this.get("group").clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},e.prototype.getChildComponentById=function(t){var e=this.getElementById(t);return e&&e.get("component")},e.prototype.getElementById=function(t){return this.get("shapesMap")[t]},e.prototype.getElementByLocalId=function(t){var e=this.getElementId(t);return this.getElementById(e)},e.prototype.getElementsByName=function(t){var e=[];return(0,o.S6)(this.get("shapesMap"),(function(n){n.get("name")===t&&e.push(n)})),e},e.prototype.getContainer=function(){return this.get("container")},e.prototype.updateInner=function(t){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},e.prototype.render=function(){var t=this.get("offScreenGroup");t||(t=this.offScreenRender());var e=this.get("group");this.updateElements(t,e),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},e.prototype.show=function(){this.get("group").show(),this.set("visible",!0)},e.prototype.hide=function(){this.get("group").hide(),this.set("visible",!1)},e.prototype.setCapture=function(t){this.get("group").set("capture",t),this.set("capture",t)},e.prototype.destroy=function(){this.removeEvent(),this.remove(),t.prototype.destroy.call(this)},e.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},e.prototype.getLayoutBBox=function(){var t=this.get("group"),e=this.getInnerLayoutBBox(),n=t.getTotalMatrix();return n&&(e=(0,a.am)(n,e)),e},e.prototype.on=function(t,e,n){return this.get("group").on(t,e,n),this},e.prototype.off=function(t,e){var n=this.get("group");return n&&n.off(t,e),this},e.prototype.emit=function(t,e){this.get("group").emit(t,e)},e.prototype.init=function(){t.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},e.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},e.prototype.delegateEmit=function(t,e){var n=this.get("group");e.target=n,n.emit(t,e),(0,r.E)(n,t,e)},e.prototype.createOffScreenGroup=function(){return new(this.get("group").getGroupBase())({delegateObject:this.getDelegateObject()})},e.prototype.applyOffset=function(){var t=this.get("offsetX"),e=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t,y:e})},e.prototype.initGroup=function(){var t=this.get("container");this.set("group",t.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},e.prototype.offScreenRender=function(){this.clearOffScreenCache();var t=this.createOffScreenGroup();return this.renderInner(t),this.set("offScreenGroup",t),this.set("offScreenBBox",(0,s._p)(t)),t},e.prototype.addGroup=function(t,e){this.appendDelegateObject(t,e);var n=t.addGroup(e);return this.get("isRegister")&&this.registerElement(n),n},e.prototype.addShape=function(t,e){this.appendDelegateObject(t,e);var n=t.addShape(e);return this.get("isRegister")&&this.registerElement(n),n},e.prototype.addComponent=function(t,e){var n=e.id,o=e.component,r=(0,i._T)(e,["id","component"]),a=new o((0,i.pi)((0,i.pi)({},r),{id:n,container:t,updateAutoRender:this.get("updateAutoRender")}));return a.init(),a.render(),this.get("isRegister")&&this.registerElement(a.get("group")),a},e.prototype.initEvent=function(){},e.prototype.removeEvent=function(){this.get("group").off()},e.prototype.getElementId=function(t){return this.get("id")+"-"+this.get("name")+"-"+t},e.prototype.registerElement=function(t){var e=t.get("id");this.get("shapesMap")[e]=t},e.prototype.unregisterElement=function(t){var e=t.get("id");delete this.get("shapesMap")[e]},e.prototype.moveElementTo=function(t,e){var n=(0,a.kc)(e);t.attr("matrix",n)},e.prototype.addAnimation=function(t,e,n){var i=e.attr("opacity");(0,o.UM)(i)&&(i=1),e.attr("opacity",0),e.animate({opacity:i},n)},e.prototype.removeAnimation=function(t,e,n){e.animate({opacity:0},n)},e.prototype.updateAnimation=function(t,e,n,i){e.animate(n,i)},e.prototype.updateElements=function(t,e){var n,i=this,r=this.get("animate"),a=this.get("animateOption"),p=t.getChildren().slice(0);(0,o.S6)(p,(function(t){var p=t.get("id"),g=i.getElementById(p),f=t.get("name");if(g)if(t.get("isComponent")){var c=t.get("component"),y=g.get("component"),d=(0,o.ei)(c.cfg,(0,o.e5)((0,o.XP)(c.cfg),h));y.update(d),g.set(l,"update")}else{var m=i.getReplaceAttrs(g,t);r&&a.update?i.updateAnimation(f,g,m,a.update):g.attr(m),t.isGroup()&&i.updateElements(t,g),(0,o.S6)(u,(function(e){g.set(e,t.get(e))})),(0,s.yL)(g,t),n=g,g.set(l,"update")}else{e.add(t);var v=e.getChildren();if(v.splice(v.length-1,1),n){var x=v.indexOf(n);v.splice(x+1,0,t)}else v.unshift(t);if(i.registerElement(t),t.set(l,"add"),t.get("isComponent"))(c=t.get("component")).set("container",e);else t.isGroup()&&i.registerNewGroup(t);if(n=t,r){var C=i.get("isInit")?a.appear:a.enter;C&&i.addAnimation(f,t,C)}}}))},e.prototype.clearUpdateStatus=function(t){var e=t.getChildren();(0,o.S6)(e,(function(t){t.set(l,null)}))},e.prototype.clearOffScreenCache=function(){var t=this.get("offScreenGroup");t&&t.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},e.prototype.getDelegateObject=function(){var t;return(t={})[this.get("name")]=this,t.component=this,t},e.prototype.appendDelegateObject=function(t,e){var n=t.get("delegateObject");e.delegateObject||(e.delegateObject={}),(0,o.CD)(e.delegateObject,n)},e.prototype.getReplaceAttrs=function(t,e){var n=t.attr(),i=e.attr();return(0,o.S6)(n,(function(t,e){void 0===i[e]&&(i[e]=void 0)})),i},e.prototype.registerNewGroup=function(t){var e=this,n=t.getChildren();(0,o.S6)(n,(function(t){e.registerElement(t),t.set(l,"add"),t.isGroup()&&e.registerNewGroup(t)}))},e.prototype.deleteElements=function(){var t=this,e=this.get("shapesMap"),n=[];(0,o.S6)(e,(function(t,e){!t.get(l)||t.destroyed?n.push([e,t]):t.set(l,null)}));var i=this.get("animate"),r=this.get("animateOption");(0,o.S6)(n,(function(n){var a=n[0],s=n[1];if(!s.destroyed){var p=s.get("name");if(i&&r.leave){var l=(0,o.CD)({callback:function(){t.removeElement(s)}},r.leave);t.removeAnimation(p,s,l)}else t.removeElement(s)}delete e[a]}))},e.prototype.removeElement=function(t){if(t.get("isGroup")){var e=t.get("component");e&&e.destroy()}t.remove()},e}(p.Z);e.Z=g},66924:function(t,e,n){var i=n(29388),o=n(56235),r=n(90996),a=n(54818),s=n(44700),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.pi)((0,i.pi)({},e),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},e.prototype.getContainer=function(){return this.get("container")},e.prototype.show=function(){this.get("container").style.display="",this.set("visible",!0)},e.prototype.hide=function(){this.get("container").style.display="none",this.set("visible",!1)},e.prototype.setCapture=function(t){var e=t?"auto":"none";this.getContainer().style.pointerEvents=e,this.set("capture",t)},e.prototype.getBBox=function(){var t=this.getContainer(),e=parseFloat(t.style.left)||0,n=parseFloat(t.style.top)||0;return(0,s.KN)(e,n,t.clientWidth,t.clientHeight)},e.prototype.clear=function(){var t=this.get("container");(0,s.ac)(t)},e.prototype.destroy=function(){this.removeEvent(),this.removeDom(),t.prototype.destroy.call(this)},e.prototype.init=function(){t.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},e.prototype.initCapture=function(){this.setCapture(this.get("capture"))},e.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},e.prototype.initDom=function(){},e.prototype.initContainer=function(){var t=this.get("container");if((0,a.UM)(t)){t=this.createDom();var e=this.get("parent");(0,a.HD)(e)&&(e=document.getElementById(e),this.set("parent",e)),e.appendChild(t),this.get("containerId")&&t.setAttribute("id",this.get("containerId")),this.set("container",t)}else(0,a.HD)(t)&&(t=document.getElementById(t),this.set("container",t));this.get("parent")||this.set("parent",t.parentNode)},e.prototype.resetStyles=function(){var t=this.get("domStyles"),e=this.get("defaultStyles");t=t?(0,a.b$)({},e,t):e,this.set("domStyles",t)},e.prototype.applyStyles=function(){var t=this.get("domStyles");if(t){var e=this.getContainer();this.applyChildrenStyles(e,t);var n=this.get("containerClassName");if(n&&(0,s.pv)(e,n)){var i=t[n];(0,o.Z)(e,i)}}},e.prototype.applyChildrenStyles=function(t,e){(0,a.S6)(e,(function(e,n){var i=t.getElementsByClassName(n);(0,a.S6)(i,(function(t){(0,o.Z)(t,e)}))}))},e.prototype.applyStyle=function(t,e){var n=this.get("domStyles");(0,o.Z)(e,n[t])},e.prototype.createDom=function(){var t=this.get("containerTpl");return(0,r.Z)(t)},e.prototype.initEvent=function(){},e.prototype.removeDom=function(){var t=this.get("container");t&&t.parentNode&&t.parentNode.removeChild(t)},e.prototype.removeEvent=function(){},e.prototype.updateInner=function(t){(0,a.wH)(t,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},e.prototype.resetPosition=function(){},e}(n(26321).Z);e.Z=p},27436:function(t,e,n){n.r(e),n.d(e,{Arc:function(){return y},DataMarker:function(){return I},DataRegion:function(){return E},Html:function(){return M},Image:function(){return x},Line:function(){return u},Region:function(){return m},RegionFilter:function(){return B},Shape:function(){return A},Text:function(){return f}});var i=n(29388),o=n(54818),r=n(31154),a=n(36916),s=n(42848),p=n(44700),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.pi)((0,i.pi)({},e),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:s.Z.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:s.Z.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:s.Z.lineColor,lineWidth:1}}}})},e.prototype.renderInner=function(t){this.renderLine(t),this.get("text")&&this.renderLabel(t)},e.prototype.renderLine=function(t){var e=this.get("start"),n=this.get("end"),o=this.get("style");this.addShape(t,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:(0,i.pi)({x1:e.x,y1:e.y,x2:n.x,y2:n.y},o)})},e.prototype.getLabelPoint=function(t,e,n){var i;return((i="start"===n?0:"center"===n?.5:(0,o.HD)(n)&&-1!==n.indexOf("%")?parseInt(n,10)/100:(0,o.hj)(n)?n:1)>1||i<0)&&(i=1),{x:(0,p.vO)(t.x,e.x,i),y:(0,p.vO)(t.y,e.y,i)}},e.prototype.renderLabel=function(t){var e=this.get("text"),n=this.get("start"),i=this.get("end"),o=e.position,r=e.content,s=e.style,p=e.offsetX,l=e.offsetY,u=e.autoRotate,h=e.maxLength,g=e.autoEllipsis,f=e.ellipsisPosition,c=e.background,y=e.isVertical,d=void 0!==y&&y,m=this.getLabelPoint(n,i,o),v=m.x+p,x=m.y+l,C={id:this.getElementId("line-text"),name:"annotation-line-text",x:v,y:x,content:r,style:s,maxLength:h,autoEllipsis:g,ellipsisPosition:f,background:c,isVertical:d};if(u){var I=[i.x-n.x,i.y-n.y];C.rotate=Math.atan2(I[1],I[0])}(0,a.h)(t,C)},e}(r.Z),u=l,h=n(58799),g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.pi)((0,i.pi)({},e),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:s.Z.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:s.Z.fontFamily}}})},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},e.prototype.renderInner=function(t){var e=this.getLocation(),n=e.x,i=e.y,o=this.get("content"),r=this.get("style"),s={id:this.getElementId("text"),name:this.get("name")+"-text",x:n,y:i,content:o,style:r,maxLength:this.get("maxLength"),autoEllipsis:this.get("autoEllipsis"),isVertical:this.get("isVertical"),ellipsisPosition:this.get("ellipsisPosition"),background:this.get("background"),rotate:this.get("rotate")};(0,a.h)(t,s)},e.prototype.resetLocation=function(){var t=this.getElementByLocalId("text-group");if(t){var e=this.getLocation(),n=e.x,i=e.y,o=this.get("rotate");(0,h.tY)(t,n,i),(0,h.DG)(t,o,n,i)}},e}(r.Z),f=g,c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.pi)((0,i.pi)({},e),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2,style:{stroke:"#999",lineWidth:1}})},e.prototype.renderInner=function(t){this.renderArc(t)},e.prototype.getArcPath=function(){var t=this.getLocation(),e=t.center,n=t.radius,i=t.startAngle,o=t.endAngle,r=(0,p.AS)(e,n,i),a=(0,p.AS)(e,n,o),s=o-i>Math.PI?1:0,l=[["M",r.x,r.y]];if(o-i===2*Math.PI){var u=(0,p.AS)(e,n,i+Math.PI);l.push(["A",n,n,0,s,1,u.x,u.y]),l.push(["A",n,n,0,s,1,a.x,a.y])}else l.push(["A",n,n,0,s,1,a.x,a.y]);return l},e.prototype.renderArc=function(t){var e=this.getArcPath(),n=this.get("style");this.addShape(t,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:(0,i.pi)({path:e},n)})},e}(r.Z),y=c,d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.pi)((0,i.pi)({},e),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:s.Z.regionColor,opacity:.4}}})},e.prototype.renderInner=function(t){this.renderRegion(t)},e.prototype.renderRegion=function(t){var e=this.get("start"),n=this.get("end"),o=this.get("style"),r=(0,p.IE)({start:e,end:n});this.addShape(t,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:(0,i.pi)({x:r.x,y:r.y,width:r.width,height:r.height},o)})},e}(r.Z),m=d,v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.pi)((0,i.pi)({},e),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},e.prototype.renderInner=function(t){this.renderImage(t)},e.prototype.getImageAttrs=function(){var t=this.get("start"),e=this.get("end"),n=this.get("style"),o=(0,p.IE)({start:t,end:e}),r=this.get("src");return(0,i.pi)({x:o.x,y:o.y,img:r,width:o.width,height:o.height},n)},e.prototype.renderImage=function(t){this.addShape(t,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},e}(r.Z),x=v,C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.pi)((0,i.pi)({},e),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:s.Z.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:s.Z.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:s.Z.fontFamily}}}})},e.prototype.renderInner=function(t){(0,o.U2)(this.get("line"),"display")&&this.renderLine(t),(0,o.U2)(this.get("text"),"display")&&this.renderText(t),(0,o.U2)(this.get("point"),"display")&&this.renderPoint(t),this.get("autoAdjust")&&this.autoAdjust(t)},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},e.prototype.renderPoint=function(t){var e=this.getShapeAttrs().point;this.addShape(t,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:e})},e.prototype.renderLine=function(t){var e=this.getShapeAttrs().line;this.addShape(t,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:e})},e.prototype.renderText=function(t){var e=this.getShapeAttrs().text,n=e.x,o=e.y,r=e.text,s=(0,i._T)(e,["x","y","text"]),p=this.get("text"),l=p.background,u=p.maxLength,h=p.autoEllipsis,g=p.isVertival,f=p.ellipsisPosition,c={x:n,y:o,id:this.getElementId("text"),name:"annotation-text",content:r,style:s,background:l,maxLength:u,autoEllipsis:h,isVertival:g,ellipsisPosition:f};(0,a.h)(t,c)},e.prototype.autoAdjust=function(t){var e=this.get("direction"),n=this.get("x"),i=this.get("y"),r=(0,o.U2)(this.get("line"),"length",0),a=this.get("coordinateBBox"),s=t.getBBox(),p=s.minX,l=s.maxX,u=s.minY,g=s.maxY,f=t.findById(this.getElementId("text-group")),c=t.findById(this.getElementId("text")),y=t.findById(this.getElementId("line"));if(a&&f){var d=f.attr("x"),m=f.attr("y"),v=c.getCanvasBBox(),x=v.width,C=v.height,I=0,S=0;if(n+p<=a.minX)if("leftward"===e)I=1;else{var E=a.minX-(n+p);d=f.attr("x")+E}else if(n+l>=a.maxX)if("rightward"===e)I=-1;else{E=n+l-a.maxX;d=f.attr("x")-E}if(I&&(y&&y.attr("path",[["M",0,0],["L",r*I,0]]),d=(r+2+x)*I),i+u<=a.minY)if("upward"===e)S=1;else{E=a.minY-(i+u);m=f.attr("y")+E}else if(i+g>=a.maxY)if("downward"===e)S=-1;else{E=i+g-a.maxY;m=f.attr("y")-E}S&&(y&&y.attr("path",[["M",0,0],["L",0,r*S]]),m=(r+2+C)*S),d===f.attr("x")&&m===f.attr("y")||(0,h.tY)(f,d,m)}},e.prototype.getShapeAttrs=function(){var t=(0,o.U2)(this.get("line"),"display"),e=(0,o.U2)(this.get("point"),"style",{}),n=(0,o.U2)(this.get("line"),"style",{}),r=(0,o.U2)(this.get("text"),"style",{}),a=this.get("direction"),s=t?(0,o.U2)(this.get("line"),"length",0):0,p=0,l=0,u="top",h="start";switch(a){case"upward":l=-1,u="bottom";break;case"downward":l=1,u="top";break;case"leftward":p=-1,h="end";break;case"rightward":p=1,h="start"}return{point:(0,i.pi)({x:0,y:0},e),line:(0,i.pi)({path:[["M",0,0],["L",s*p,s*l]]},n),text:(0,i.pi)({x:(s+2)*p,y:(s+2)*l,text:(0,o.U2)(this.get("text"),"content",""),textBaseline:u,textAlign:h},r)}},e}(r.Z),I=C,S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.pi)((0,i.pi)({},e),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:s.Z.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:s.Z.textColor,fontFamily:s.Z.fontFamily}}}})},e.prototype.renderInner=function(t){var e=(0,o.U2)(this.get("region"),"style",{}),n=((0,o.U2)(this.get("text"),"style",{}),this.get("lineLength")||0),r=this.get("points");if(r.length){var s=(0,p.Di)(r),l=[];l.push(["M",r[0].x,s.minY-n]),r.forEach((function(t){l.push(["L",t.x,t.y])})),l.push(["L",r[r.length-1].x,r[r.length-1].y-n]),this.addShape(t,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:(0,i.pi)({path:l},e)});var u=(0,i.pi)({id:this.getElementId("text"),name:"annotation-text",x:(s.minX+s.maxX)/2,y:s.minY-n},this.get("text"));(0,a.h)(t,u)}},e}(r.Z),E=S,b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.pi)((0,i.pi)({},e),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},e.prototype.renderInner=function(t){var e=this,n=this.get("start"),i=this.get("end"),r=this.addGroup(t,{id:this.getElementId("region-filter"),capture:!1});(0,o.S6)(this.get("shapes"),(function(t,n){var i=t.get("type"),a=(0,o.d9)(t.attr());e.adjustShapeAttrs(a),e.addShape(r,{id:e.getElementId("shape-"+i+"-"+n),capture:!1,type:i,attrs:a})}));var a=(0,p.IE)({start:n,end:i});r.setClip({type:"rect",attrs:{x:a.minX,y:a.minY,width:a.width,height:a.height}})},e.prototype.adjustShapeAttrs=function(t){var e=this.get("color");t.fill&&(t.fill=t.fillStyle=e),t.stroke=t.strokeStyle=e},e}(r.Z),B=b,Z=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.pi)((0,i.pi)({},e),{name:"annotation",type:"shape",draw:o.ZT})},e.prototype.renderInner=function(t){var e=this.get("render");(0,o.mf)(e)&&e(t)},e}(r.Z),A=Z,D=n(90996),L=n(70506),T=n(20549),w=n(56235),O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.pi)((0,i.pi)({},e),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation" style="position:absolute"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},e.prototype.render=function(){var t=this.getContainer(),e=this.get("html");(0,p.ac)(t);var n=(0,o.mf)(e)?e(t):e;if((0,o.kK)(n))t.appendChild(n);else if((0,o.HD)(n)||(0,o.hj)(n)){var i=(0,D.Z)(""+n);i&&t.appendChild(i)}this.resetPosition()},e.prototype.resetPosition=function(){var t=this.getContainer(),e=this.getLocation(),n=e.x,i=e.y,o=this.get("alignX"),r=this.get("alignY"),a=this.get("offsetX"),s=this.get("offsetY"),p=(0,L.Z)(t),l=(0,T.Z)(t),u={x:n,y:i};"middle"===o?u.x-=Math.round(p/2):"right"===o&&(u.x-=Math.round(p)),"middle"===r?u.y-=Math.round(l/2):"bottom"===r&&(u.y-=Math.round(l)),a&&(u.x+=a),s&&(u.y+=s),(0,w.Z)(t,{position:"absolute",left:u.x+"px",top:u.y+"px",zIndex:this.get("zIndex")})},e}(n(66924).Z),M=O}}]);
//# sourceMappingURL=7436.a84172ed.js.map