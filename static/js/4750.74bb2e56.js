"use strict";(self.webpackChunkjx3dps_online=self.webpackChunkjx3dps_online||[]).push([[4750],{93241:function(e,t,n){n.d(t,{Z:function(){return Z}});var r=n(4942),i=n(1413),o=n(29439),a=n(44925),s=n(72791),u=n(64750),l=n(81694),c=n.n(l),d={adjustX:1,adjustY:1},f=[0,0],g={topLeft:{points:["bl","tl"],overflow:d,offset:[0,-4],targetOffset:f},topCenter:{points:["bc","tc"],overflow:d,offset:[0,-4],targetOffset:f},topRight:{points:["br","tr"],overflow:d,offset:[0,-4],targetOffset:f},bottomLeft:{points:["tl","bl"],overflow:d,offset:[0,4],targetOffset:f},bottomCenter:{points:["tc","bc"],overflow:d,offset:[0,4],targetOffset:f},bottomRight:{points:["tr","br"],overflow:d,offset:[0,4],targetOffset:f}},v=n(11354),p=n(75314),m=n(39393),h=v.Z.ESC,F=v.Z.TAB;var y=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus"];function C(e,t){var n=e.arrow,l=void 0!==n&&n,d=e.prefixCls,f=void 0===d?"rc-dropdown":d,v=e.transitionName,C=e.animation,Z=e.align,k=e.placement,V=void 0===k?"bottomLeft":k,P=e.placements,w=void 0===P?g:P,R=e.getPopupContainer,b=e.showAction,E=e.hideAction,x=e.overlayClassName,M=e.overlayStyle,N=e.visible,T=e.trigger,A=void 0===T?["hover"]:T,O=e.autoFocus,L=(0,a.Z)(e,y),I=s.useState(),S=(0,o.Z)(I,2),U=S[0],H=S[1],W="visible"in e?N:U,_=s.useRef(null);s.useImperativeHandle(t,(function(){return _.current})),function(e){var t=e.visible,n=e.setTriggerVisible,r=e.triggerRef,i=e.onVisibleChange,o=e.autoFocus,a=s.useRef(!1),u=function(){var e,o,a,s;t&&r.current&&(null===(e=r.current)||void 0===e||null===(o=e.triggerRef)||void 0===o||null===(a=o.current)||void 0===a||null===(s=a.focus)||void 0===s||s.call(a),n(!1),"function"===typeof i&&i(!1))},l=function(){var e,t,n,i,o=(0,m.tS)(null===(e=r.current)||void 0===e||null===(t=e.popupRef)||void 0===t||null===(n=t.current)||void 0===n||null===(i=n.getElement)||void 0===i?void 0:i.call(n))[0];return!!(null===o||void 0===o?void 0:o.focus)&&(o.focus(),a.current=!0,!0)},c=function(e){switch(e.keyCode){case h:u();break;case F:var t=!1;a.current||(t=l()),t?e.preventDefault():u()}};s.useEffect((function(){return t?(window.addEventListener("keydown",c),o&&(0,p.Z)(l,3),function(){window.removeEventListener("keydown",c),a.current=!1}):function(){a.current=!1}}),[t])}({visible:W,setTriggerVisible:H,triggerRef:_,onVisibleChange:e.onVisibleChange,autoFocus:O});var j=function(){var t=function(){var t=e.overlay;return"function"===typeof t?t():t}();return s.createElement(s.Fragment,null,l&&s.createElement("div",{className:"".concat(f,"-arrow")}),t)},D=E;return D||-1===A.indexOf("contextMenu")||(D=["click"]),s.createElement(u.Z,(0,i.Z)((0,i.Z)({builtinPlacements:w},L),{},{prefixCls:f,ref:_,popupClassName:c()(x,(0,r.Z)({},"".concat(f,"-show-arrow"),l)),popupStyle:M,action:A,showAction:b,hideAction:D||[],popupPlacement:V,popupAlign:Z,popupTransitionName:v,popupAnimation:C,popupVisible:W,stretch:function(){var t=e.minOverlayWidthMatchTrigger,n=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!n}()?"minWidth":"",popup:"function"===typeof e.overlay?j:j(),onPopupVisibleChange:function(t){var n=e.onVisibleChange;H(t),"function"===typeof n&&n(t)},onPopupClick:function(t){var n=e.onOverlayClick;H(!1),n&&n(t)},getPopupContainer:R}),function(){var t=e.children,n=t.props?t.props:{},r=c()(n.className,function(){var t=e.openClassName;return void 0!==t?t:"".concat(f,"-open")}());return W&&t?s.cloneElement(t,{className:r}):t}())}var Z=s.forwardRef(C)},24654:function(e,t,n){var r=n(87462),i=n(44925),o=n(4942),a=n(1413),s=n(93433),u=n(15671),l=n(43144),c=n(97326),d=n(79340),f=n(98557),g=n(85501),v=n(60632),p=n(72791),m=n(75691),h=n(95321),F=n(49544),y=n(14537),C=["name"],Z=[];function k(e,t,n,r,i,o){return"function"===typeof e?e(t,n,"source"in o?{source:o.source}:{}):r!==i}var V=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e){var r;((0,u.Z)(this,n),(r=t.call(this,e)).state={resetCount:0},r.cancelRegisterFunc=null,r.mounted=!1,r.touched=!1,r.dirty=!1,r.validatePromise=null,r.prevValidating=void 0,r.errors=Z,r.warnings=Z,r.cancelRegister=function(){var e=r.props,t=e.preserve,n=e.isListField,i=e.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(n,t,(0,y.gU)(i)),r.cancelRegisterFunc=null},r.getNamePath=function(){var e=r.props,t=e.name,n=e.fieldContext.prefixName,i=void 0===n?[]:n;return void 0!==t?[].concat((0,s.Z)(i),(0,s.Z)(t)):[]},r.getRules=function(){var e=r.props,t=e.rules,n=void 0===t?[]:t,i=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(i):e}))},r.refresh=function(){r.mounted&&r.setState((function(e){return{resetCount:e.resetCount+1}}))},r.triggerMetaEvent=function(e){var t=r.props.onMetaChange;null===t||void 0===t||t((0,a.Z)((0,a.Z)({},r.getMeta()),{},{destroy:e}))},r.onStoreChange=function(e,t,n){var i=r.props,o=i.shouldUpdate,a=i.dependencies,s=void 0===a?[]:a,u=i.onReset,l=n.store,c=r.getNamePath(),d=r.getValue(e),f=r.getValue(l),g=t&&(0,y.T1)(t,c);switch("valueUpdate"===n.type&&"external"===n.source&&d!==f&&(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=Z,r.warnings=Z,r.triggerMetaEvent()),n.type){case"reset":if(!t||g)return r.touched=!1,r.dirty=!1,r.validatePromise=null,r.errors=Z,r.warnings=Z,r.triggerMetaEvent(),null===u||void 0===u||u(),void r.refresh();break;case"remove":if(o)return void r.reRender();break;case"setField":if(g){var v=n.data;return"touched"in v&&(r.touched=v.touched),"validating"in v&&!("originRCField"in v)&&(r.validatePromise=v.validating?Promise.resolve([]):null),"errors"in v&&(r.errors=v.errors||Z),"warnings"in v&&(r.warnings=v.warnings||Z),r.dirty=!0,r.triggerMetaEvent(),void r.reRender()}if(o&&!c.length&&k(o,e,l,d,f,n))return void r.reRender();break;case"dependenciesUpdate":if(s.map(y.gU).some((function(e){return(0,y.T1)(n.relatedFields,e)})))return void r.reRender();break;default:if(g||(!s.length||c.length||o)&&k(o,e,l,d,f,n))return void r.reRender()}!0===o&&r.reRender()},r.validateRules=function(e){var t=r.getNamePath(),n=r.getValue(),i=Promise.resolve().then((function(){if(!r.mounted)return[];var o=r.props,a=o.validateFirst,u=void 0!==a&&a,l=o.messageVariables,c=(e||{}).triggerName,d=r.getRules();c&&(d=d.filter((function(e){var t=e.validateTrigger;return!t||(0,h.q)(t).includes(c)})));var f=(0,F.N)(t,n,d,e,u,l);return f.catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;if(r.validatePromise===i){var t;r.validatePromise=null;var n=[],o=[];null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,r=e.errors,i=void 0===r?Z:r;t?o.push.apply(o,(0,s.Z)(i)):n.push.apply(n,(0,s.Z)(i))})),r.errors=n,r.warnings=o,r.triggerMetaEvent(),r.reRender()}})),f}));return r.validatePromise=i,r.dirty=!0,r.errors=Z,r.warnings=Z,r.triggerMetaEvent(),r.reRender(),i},r.isFieldValidating=function(){return!!r.validatePromise},r.isFieldTouched=function(){return r.touched},r.isFieldDirty=function(){return!(!r.dirty&&void 0===r.props.initialValue)||void 0!==(0,r.props.fieldContext.getInternalHooks(m.k).getInitialValue)(r.getNamePath())},r.getErrors=function(){return r.errors},r.getWarnings=function(){return r.warnings},r.isListField=function(){return r.props.isListField},r.isList=function(){return r.props.isList},r.isPreserve=function(){return r.props.preserve},r.getMeta=function(){return r.prevValidating=r.isFieldValidating(),{touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,warnings:r.warnings,name:r.getNamePath()}},r.getOnlyChild=function(e){if("function"===typeof e){var t=r.getMeta();return(0,a.Z)((0,a.Z)({},r.getOnlyChild(e(r.getControlled(),t,r.props.fieldContext))),{},{isFunction:!0})}var n=(0,g.Z)(e);return 1===n.length&&p.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}},r.getValue=function(e){var t=r.props.fieldContext.getFieldsValue,n=r.getNamePath();return(0,y.NA)(e||t(!0),n)},r.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.props,n=t.trigger,i=t.validateTrigger,s=t.getValueFromEvent,u=t.normalize,l=t.valuePropName,c=t.getValueProps,d=t.fieldContext,f=void 0!==i?i:d.validateTrigger,g=r.getNamePath(),v=d.getInternalHooks,p=d.getFieldsValue,F=v(m.k),C=F.dispatch,Z=r.getValue(),k=c||function(e){return(0,o.Z)({},l,e)},V=e[n],P=(0,a.Z)((0,a.Z)({},e),k(Z));P[n]=function(){var e;r.touched=!0,r.dirty=!0,r.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e=s?s.apply(void 0,n):y.iZ.apply(void 0,[l].concat(n)),u&&(e=u(e,Z,p(!0))),C({type:"updateValue",namePath:g,value:e}),V&&V.apply(void 0,n)};var w=(0,h.q)(f||[]);return w.forEach((function(e){var t=P[e];P[e]=function(){t&&t.apply(void 0,arguments);var n=r.props.rules;n&&n.length&&C({type:"validateField",namePath:g,triggerName:e})}})),P},e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(m.k).initEntityValue)((0,c.Z)(r));return r}return(0,l.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(m.k).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,r=this.getOnlyChild(n),i=r.child;return r.isFunction?e=i:p.isValidElement(i)?e=p.cloneElement(i,this.getControlled(i.props)):((0,v.ZP)(!i,"`children` of Field is not validate ReactElement."),e=i),p.createElement(p.Fragment,{key:t},e)}}]),n}(p.Component);V.contextType=m.Z,V.defaultProps={trigger:"onChange",valuePropName:"value"},t.Z=function(e){var t=e.name,n=(0,i.Z)(e,C),o=p.useContext(m.Z),a=void 0!==t?(0,y.gU)(t):void 0,s="keep";return n.isListField||(s="_".concat((a||[]).join("_"))),p.createElement(V,(0,r.Z)({key:s,name:a},n,{fieldContext:o}))}},75691:function(e,t,n){n.d(t,{k:function(){return o}});var r=n(60632),i=n(72791),o="RC_FORM_INTERNAL_HOOKS",a=function(){(0,r.ZP)(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},s=i.createContext({getFieldValue:a,getFieldsValue:a,getFieldError:a,getFieldWarning:a,getFieldsError:a,isFieldsTouched:a,isFieldTouched:a,isFieldValidating:a,isFieldsValidating:a,resetFields:a,setFields:a,setFieldValue:a,setFieldsValue:a,validateFields:a,submit:a,getInternalHooks:function(){return a(),{dispatch:a,initEntityValue:a,registerField:a,useSubscribe:a,setInitialValues:a,destroyForm:a,setCallbacks:a,registerWatch:a,getFields:a,setValidateMessages:a,setPreserve:a,getInitialValue:a}}});t.Z=s},84432:function(e,t,n){var r=n(87462),i=n(1413),o=n(29439),a=n(44925),s=n(72791),u=n(51437),l=n(75691),c=n(94148),d=n(14537),f=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"];t.Z=function(e,t){var n=e.name,g=e.initialValues,v=e.fields,p=e.form,m=e.preserve,h=e.children,F=e.component,y=void 0===F?"form":F,C=e.validateMessages,Z=e.validateTrigger,k=void 0===Z?"onChange":Z,V=e.onValuesChange,P=e.onFieldsChange,w=e.onFinish,R=e.onFinishFailed,b=(0,a.Z)(e,f),E=s.useContext(c.Z),x=(0,u.Z)(p),M=(0,o.Z)(x,1)[0],N=M.getInternalHooks(l.k),T=N.useSubscribe,A=N.setInitialValues,O=N.setCallbacks,L=N.setValidateMessages,I=N.setPreserve,S=N.destroyForm;s.useImperativeHandle(t,(function(){return M})),s.useEffect((function(){return E.registerForm(n,M),function(){E.unregisterForm(n)}}),[E,M,n]),L((0,i.Z)((0,i.Z)({},E.validateMessages),C)),O({onValuesChange:V,onFieldsChange:function(e){if(E.triggerFormChange(n,e),P){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];P.apply(void 0,[e].concat(r))}},onFinish:function(e){E.triggerFormFinish(n,e),w&&w(e)},onFinishFailed:R}),I(m);var U,H=s.useRef(null);A(g,!H.current),H.current||(H.current=!0),s.useEffect((function(){return S}),[]);var W="function"===typeof h;W?U=h(M.getFieldsValue(!0),M):U=h;T(!W);var _=s.useRef();s.useEffect((function(){(0,d.T0)(_.current||[],v||[])||M.setFields(v||[]),_.current=v}),[v,M]);var j=s.useMemo((function(){return(0,i.Z)((0,i.Z)({},M),{},{validateTrigger:k})}),[M,k]),D=s.createElement(l.Z.Provider,{value:j},U);return!1===y?D:s.createElement(y,(0,r.Z)({},b,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),M.submit()},onReset:function(e){var t;e.preventDefault(),M.resetFields(),null===(t=b.onReset)||void 0===t||t.call(b,e)}}),D)}},94148:function(e,t,n){n.d(t,{R:function(){return s}});var r=n(4942),i=n(1413),o=n(72791),a=o.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),s=function(e){var t=e.validateMessages,n=e.onFormChange,s=e.onFormFinish,u=e.children,l=o.useContext(a),c=o.useRef({});return o.createElement(a.Provider,{value:(0,i.Z)((0,i.Z)({},l),{},{validateMessages:(0,i.Z)((0,i.Z)({},l.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:c.current}),l.triggerFormChange(e,t)},triggerFormFinish:function(e,t){s&&s(e,{values:t,forms:c.current}),l.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(c.current=(0,i.Z)((0,i.Z)({},c.current),{},(0,r.Z)({},e,t))),l.registerForm(e,t)},unregisterForm:function(e){var t=(0,i.Z)({},c.current);delete t[e],c.current=t,l.unregisterForm(e)}})},u)};t.Z=a},28247:function(e,t,n){var r=n(1413),i=n(93433),o=n(72791),a=n(60632),s=n(75691),u=n(24654),l=n(14537),c=n(3962);t.Z=function(e){var t=e.name,n=e.initialValue,d=e.children,f=e.rules,g=e.validateTrigger,v=o.useContext(s.Z),p=o.useRef({keys:[],id:0}).current,m=o.useMemo((function(){var e=(0,l.gU)(v.prefixName)||[];return[].concat((0,i.Z)(e),(0,i.Z)((0,l.gU)(t)))}),[v.prefixName,t]),h=o.useMemo((function(){return(0,r.Z)((0,r.Z)({},v),{},{prefixName:m})}),[v,m]),F=o.useMemo((function(){return{getKey:function(e){var t=m.length,n=e[t];return[p.keys[n],e.slice(t+1)]}}}),[m]);if("function"!==typeof d)return(0,a.ZP)(!1,"Form.List only accepts function as children."),null;return o.createElement(c.Z.Provider,{value:F},o.createElement(s.Z.Provider,{value:h},o.createElement(u.Z,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:f,validateTrigger:g,initialValue:n,isList:!0},(function(e,t){var n=e.value,r=void 0===n?[]:n,o=e.onChange,a=v.getFieldValue,s=function(){return a(m||[])||[]},u={add:function(e,t){var n=s();t>=0&&t<=n.length?(p.keys=[].concat((0,i.Z)(p.keys.slice(0,t)),[p.id],(0,i.Z)(p.keys.slice(t))),o([].concat((0,i.Z)(n.slice(0,t)),[e],(0,i.Z)(n.slice(t))))):(p.keys=[].concat((0,i.Z)(p.keys),[p.id]),o([].concat((0,i.Z)(n),[e]))),p.id+=1},remove:function(e){var t=s(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(p.keys=p.keys.filter((function(e,t){return!n.has(t)})),o(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=s();e<0||e>=n.length||t<0||t>=n.length||(p.keys=(0,l.pB)(p.keys,e,t),o((0,l.pB)(n,e,t)))}}},c=r||[];return Array.isArray(c)||(c=[]),d(c.map((function(e,t){var n=p.keys[t];return void 0===n&&(p.keys[t]=p.id,n=p.keys[t],p.id+=1),{name:t,key:n,isListField:!0}})),u,t)}))))}},3962:function(e,t,n){var r=n(72791).createContext(null);t.Z=r}}]);
//# sourceMappingURL=4750.74bb2e56.js.map