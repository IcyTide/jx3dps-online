"use strict";(self.webpackChunkjx3dps_online=self.webpackChunkjx3dps_online||[]).push([[5294],{25294:function(t,e,i){i.d(e,{Cd:function(){return v},x1:function(){return d}});var n=i(29388),r=i(99874),a=i(54818),o=i(36403),s=i(31154),l=i(58799),c=i(67571),h=i(42848),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,n.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,n.pi)((0,n.pi)({},e),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:h.Z.lineColor}},tickLine:{style:{lineWidth:1,stroke:h.Z.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:h.Z.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:h.Z.textColor,fontFamily:h.Z.fontFamily,fontWeight:"normal"},offset:10,offsetX:0,offsetY:0},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:h.Z.textColor,textBaseline:"middle",fontFamily:h.Z.fontFamily,textAlign:"center"},iconStyle:{fill:h.Z.descriptionIconFill,stroke:h.Z.descriptionIconStroke},description:""},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:h.Z.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},e.prototype.renderInner=function(t){this.get("line")&&this.drawLine(t),this.drawTicks(t),this.get("title")&&this.drawTitle(t)},e.prototype.isList=function(){return!0},e.prototype.getItems=function(){return this.get("ticks")},e.prototype.setItems=function(t){this.update({ticks:t})},e.prototype.updateItem=function(t,e){(0,a.CD)(t,e),this.clear(),this.render()},e.prototype.clearItems=function(){var t=this.getElementByLocalId("label-group");t&&t.clear()},e.prototype.setItemState=function(t,e,i){t[e]=i,this.updateTickStates(t)},e.prototype.hasState=function(t,e){return!!t[e]},e.prototype.getItemStates=function(t){var e=this.get("tickStates"),i=[];return(0,a.S6)(e,(function(e,n){t[n]&&i.push(n)})),i},e.prototype.clearItemsState=function(t){var e=this,i=this.getItemsByState(t);(0,a.S6)(i,(function(i){e.setItemState(i,t,!1)}))},e.prototype.getItemsByState=function(t){var e=this,i=this.getItems();return(0,a.hX)(i,(function(i){return e.hasState(i,t)}))},e.prototype.getSidePoint=function(t,e){var i=this.getSideVector(e,t);return{x:t.x+i[0],y:t.y+i[1]}},e.prototype.getTextAnchor=function(t){var e;return(0,a.vQ)(t[0],0)?e="center":t[0]>0?e="start":t[0]<0&&(e="end"),e},e.prototype.getTextBaseline=function(t){var e;return(0,a.vQ)(t[1],0)?e="middle":t[1]>0?e="top":t[1]<0&&(e="bottom"),e},e.prototype.processOverlap=function(t){},e.prototype.drawLine=function(t){var e=this.getLinePath(),i=this.get("line");this.addShape(t,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:(0,a.CD)({path:e},i.style)})},e.prototype.getTickLineItems=function(t){var e=this,i=[],n=this.get("tickLine"),r=n.alignTick,o=n.length,s=1;return t.length>=2&&(s=t[1].value-t[0].value),(0,a.S6)(t,(function(t){var n=t.point;r||(n=e.getTickPoint(t.value-s/2));var a=e.getSidePoint(n,o);i.push({startPoint:n,tickValue:t.value,endPoint:a,tickId:t.id,id:"tickline-"+t.id})})),i},e.prototype.getSubTickLineItems=function(t){var e=[],i=this.get("subTickLine"),n=i.count,r=t.length;if(r>=2)for(var a=0;a<r-1;a++)for(var o=t[a],s=t[a+1],l=0;l<n;l++){var c=(l+1)/(n+1),h=(1-c)*o.tickValue+c*s.tickValue,p=this.getTickPoint(h),g=this.getSidePoint(p,i.length);e.push({startPoint:p,endPoint:g,tickValue:h,id:"sub-"+o.id+"-"+l})}return e},e.prototype.getTickLineAttrs=function(t,e,i,r){var o=this.get(e).style,s={points:[t.startPoint,t.endPoint]},l=(0,a.U2)(this.get("theme"),["tickLine","style"],{});o=(0,a.mf)(o)?(0,a.CD)({},l,o(s,i,r)):o;var c=t.startPoint,h=t.endPoint;return(0,n.pi)({x1:c.x,y1:c.y,x2:h.x,y2:h.y},o)},e.prototype.drawTick=function(t,e,i,n,r){this.addShape(e,{type:"line",id:this.getElementId(t.id),name:"axis-"+i,attrs:this.getTickLineAttrs(t,i,n,r)})},e.prototype.drawTickLines=function(t){var e=this,i=this.get("ticks"),n=this.get("subTickLine"),r=this.getTickLineItems(i),o=this.addGroup(t,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),s=this.get("tickLine");if((0,a.S6)(r,(function(i,n){if(s.displayWithLabel){var a=e.getElementId("label-"+i.tickId);t.findById(a)&&e.drawTick(i,o,"tickLine",n,r)}else e.drawTick(i,o,"tickLine",n,r)})),n){var l=this.getSubTickLineItems(r);(0,a.S6)(l,(function(t,i){e.drawTick(t,o,"subTickLine",i,l)}))}},e.prototype.processTicks=function(){var t=this,e=this.get("ticks");(0,a.S6)(e,(function(e){e.point=t.getTickPoint(e.value),(0,a.UM)(e.id)&&(e.id=e.name)}))},e.prototype.drawTicks=function(t){var e=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(t),this.get("tickLine")&&this.drawTickLines(t);var i=this.get("ticks");(0,a.S6)(i,(function(i){e.applyTickStates(i,t)}))},e.prototype.optimizeTicks=function(){var t=this.get("optimize"),e=this.get("ticks");if(t&&t.enable&&t.threshold>0){var i=(0,a.dp)(e);if(i>t.threshold){var n=Math.ceil(i/t.threshold),r=e.filter((function(t,e){return e%n===0}));this.set("ticks",r),this.set("originalTicks",e)}}},e.prototype.getLabelAttrs=function(t,e,i){var n=this.get("label"),r=n.offset,o=n.offsetX,s=n.offsetY,c=n.rotate,h=n.formatter,p=this.getSidePoint(t.point,r),g=this.getSideVector(r,p),u=h?h(t.name,t,e):t.name,f=n.style;f=(0,a.mf)(f)?(0,a.U2)(this.get("theme"),["label","style"],{}):f;var d=(0,a.CD)({x:p.x+o,y:p.y+s,text:u,textAlign:this.getTextAnchor(g),textBaseline:this.getTextBaseline(g)},f);return c&&(d.matrix=(0,l.Z1)(p,c)),d},e.prototype.drawLabels=function(t){var e=this,i=this.get("ticks"),n=this.addGroup(t,{name:"axis-label-group",id:this.getElementId("label-group")});(0,a.S6)(i,(function(t,r){e.addShape(n,{type:"text",name:"axis-label",id:e.getElementId("label-"+t.id),attrs:e.getLabelAttrs(t,r,i),delegateObject:{tick:t,item:t,index:r}})})),this.processOverlap(n);var r=n.getChildren(),o=(0,a.U2)(this.get("theme"),["label","style"],{}),s=this.get("label"),l=s.style,c=s.formatter;if((0,a.mf)(l)){var h=r.map((function(t){return(0,a.U2)(t.get("delegateObject"),"tick")}));(0,a.S6)(r,(function(t,e){var i=t.get("delegateObject").tick,n=c?c(i.name,i,e):i.name,r=(0,a.CD)({},o,l(n,e,h));t.attr(r)}))}},e.prototype.getTitleAttrs=function(){var t=this.get("title"),e=t.style,i=t.position,n=t.offset,r=t.spacing,s=void 0===r?0:r,c=t.autoRotate,h=e.fontSize,p=.5;"start"===i?p=0:"end"===i&&(p=1);var g=this.getTickPoint(p),u=this.getSidePoint(g,n||s+h/2),f=(0,a.CD)({x:u.x,y:u.y,text:t.text},e),d=t.rotate,y=d;if((0,a.UM)(d)&&c){var v=this.getAxisVector(g);y=o.Dg(v,[1,0],!0)}if(y){var m=(0,l.Z1)(u,y);f.matrix=m}return f},e.prototype.drawTitle=function(t){var e,i=this.getTitleAttrs(),n=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:i});(null===(e=this.get("title"))||void 0===e?void 0:e.description)&&this.drawDescriptionIcon(t,n,i.matrix)},e.prototype.drawDescriptionIcon=function(t,e,i){var r=this.addGroup(t,{name:"axis-description",id:this.getElementById("description")}),a=e.getBBox(),o=a.maxX,s=a.maxY,l=a.height,c=this.get("title").iconStyle,h=l/2,p=h/6,g=o+4,u=s-l/2,f=[g+h,u-h],d=f[0],y=f[1],v=[d+h,y+h],m=v[0],x=v[1],k=[d,x+h],S=k[0],b=k[1],L=[g,y+h],T=L[0],I=L[1],P=[g+h,u-l/4],A=P[0],C=P[1],M=[A,C+p],B=M[0],w=M[1],E=[B,w+p],O=E[0],D=E[1],Z=[O,D+3*h/4],V=Z[0],z=Z[1];this.addShape(r,{type:"path",id:this.getElementId("title-description-icon"),name:"axis-title-description-icon",attrs:(0,n.pi)({path:[["M",d,y],["A",h,h,0,0,1,m,x],["A",h,h,0,0,1,S,b],["A",h,h,0,0,1,T,I],["A",h,h,0,0,1,d,y],["M",A,C],["L",B,w],["M",O,D],["L",V,z]],lineWidth:p,matrix:i},c)}),this.addShape(r,{type:"rect",id:this.getElementId("title-description-rect"),name:"axis-title-description-rect",attrs:{x:g,y:u-l/2,width:l,height:l,stroke:"#000",fill:"#000",opacity:0,matrix:i,cursor:"pointer"}})},e.prototype.applyTickStates=function(t,e){if(this.getItemStates(t).length){var i=this.get("tickStates"),n=this.getElementId("label-"+t.id),r=e.findById(n);if(r){var a=(0,c.h)(t,"label",i);a&&r.attr(a)}var o=this.getElementId("tickline-"+t.id),s=e.findById(o);if(s){var l=(0,c.h)(t,"tickLine",i);l&&s.attr(l)}}},e.prototype.updateTickStates=function(t){var e=this.getItemStates(t),i=this.get("tickStates"),n=this.get("label"),r=this.getElementByLocalId("label-"+t.id),a=this.get("tickLine"),o=this.getElementByLocalId("tickline-"+t.id);if(e.length){if(r){var s=(0,c.h)(t,"label",i);s&&r.attr(s)}if(o){var l=(0,c.h)(t,"tickLine",i);l&&o.attr(l)}}else r&&r.attr(n.style),o&&o.attr(a.style)},e}(s.Z),g=p,u=i(2897),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,n.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,n.pi)((0,n.pi)({},e),{type:"line",locationType:"region",start:null,end:null})},e.prototype.getLinePath=function(){var t=this.get("start"),e=this.get("end"),i=[];return i.push(["M",t.x,t.y]),i.push(["L",e.x,e.y]),i},e.prototype.getInnerLayoutBBox=function(){var e=this.get("start"),i=this.get("end"),n=t.prototype.getInnerLayoutBBox.call(this),r=Math.min(e.x,i.x,n.x),a=Math.min(e.y,i.y,n.y),o=Math.max(e.x,i.x,n.maxX),s=Math.max(e.y,i.y,n.maxY);return{x:r,y:a,minX:r,minY:a,maxX:o,maxY:s,width:o-r,height:s-a}},e.prototype.isVertical=function(){var t=this.get("start"),e=this.get("end");return(0,a.vQ)(t.x,e.x)},e.prototype.isHorizontal=function(){var t=this.get("start"),e=this.get("end");return(0,a.vQ)(t.y,e.y)},e.prototype.getTickPoint=function(t){var e=this.get("start"),i=this.get("end"),n=i.x-e.x,r=i.y-e.y;return{x:e.x+n*t,y:e.y+r*t}},e.prototype.getSideVector=function(t){var e=this.getAxisVector(),i=r.Fv([0,0],e),n=this.get("verticalFactor"),a=[i[1],-1*i[0]];return r.bA([0,0],a,t*n)},e.prototype.getAxisVector=function(){var t=this.get("start"),e=this.get("end");return[e.x-t.x,e.y-t.y]},e.prototype.processOverlap=function(t){var e=this,i=this.isVertical(),n=this.isHorizontal();if(i||n){var r=this.get("label"),o=this.get("title"),s=this.get("verticalLimitLength"),l=r.offset,c=s,h=0,p=0;o&&(h=o.style.fontSize,p=o.spacing),c&&(c=c-l-p-h);var g=this.get("overlapOrder");if((0,a.S6)(g,(function(i){r[i]&&e.canProcessOverlap(i)&&e.autoProcessOverlap(i,r[i],t,c)})),o&&(0,a.UM)(o.offset)){var u=t.getCanvasBBox(),f=i?u.width:u.height;o.offset=l+f+p+h/2}}},e.prototype.canProcessOverlap=function(t){var e=this.get("label");return"autoRotate"!==t||(0,a.UM)(e.rotate)},e.prototype.autoProcessOverlap=function(t,e,i,n){var r=this,o=this.isVertical(),s=!1,l=u[t];if(!0===e){this.get("label");s=l.getDefault()(o,i,n)}else if((0,a.mf)(e))s=e(o,i,n);else if((0,a.Kn)(e)){var c=e;l[c.type]&&(s=l[c.type](o,i,n,c.cfg))}else l[e]&&(s=l[e](o,i,n));if("autoRotate"===t){if(s){var h=i.getChildren(),p=this.get("verticalFactor");(0,a.S6)(h,(function(t){if("center"===t.attr("textAlign")){var e=p>0?"end":"start";t.attr("textAlign",e)}}))}}else if("autoHide"===t){var g=i.getChildren().slice(0);(0,a.S6)(g,(function(t){t.get("visible")||(r.get("isRegister")&&r.unregisterElement(t),t.remove())}))}},e}(g),d=f,y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,n.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,n.pi)((0,n.pi)({},e),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},e.prototype.getLinePath=function(){var t=this.get("center"),e=t.x,i=t.y,n=this.get("radius"),r=n,a=this.get("startAngle"),o=this.get("endAngle"),s=[];if(Math.abs(o-a)===2*Math.PI)s=[["M",e,i-r],["A",n,r,0,1,1,e,i+r],["A",n,r,0,1,1,e,i-r],["Z"]];else{var l=this.getCirclePoint(a),c=this.getCirclePoint(o),h=Math.abs(o-a)>Math.PI?1:0,p=a>o?0:1;s=[["M",e,i],["L",l.x,l.y],["A",n,r,0,h,p,c.x,c.y],["L",e,i]]}return s},e.prototype.getTickPoint=function(t){var e=this.get("startAngle"),i=e+(this.get("endAngle")-e)*t;return this.getCirclePoint(i)},e.prototype.getSideVector=function(t,e){var i=this.get("center"),n=[e.x-i.x,e.y-i.y],a=this.get("verticalFactor"),o=r.kE(n);return r.bA(n,n,a*t/o),n},e.prototype.getAxisVector=function(t){var e=this.get("center"),i=[t.x-e.x,t.y-e.y];return[i[1],-1*i[0]]},e.prototype.getCirclePoint=function(t,e){var i=this.get("center");return e=e||this.get("radius"),{x:i.x+Math.cos(t)*e,y:i.y+Math.sin(t)*e}},e.prototype.canProcessOverlap=function(t){var e=this.get("label");return"autoRotate"!==t||(0,a.UM)(e.rotate)},e.prototype.processOverlap=function(t){var e=this,i=this.get("label"),n=this.get("title"),r=this.get("verticalLimitLength"),o=i.offset,s=r,l=0,c=0;n&&(l=n.style.fontSize,c=n.spacing),s&&(s=s-o-c-l);var h=this.get("overlapOrder");if((0,a.S6)(h,(function(n){i[n]&&e.canProcessOverlap(n)&&e.autoProcessOverlap(n,i[n],t,s)})),n&&(0,a.UM)(n.offset)){var p=t.getCanvasBBox().height;n.offset=o+p+c+l/2}},e.prototype.autoProcessOverlap=function(t,e,i,n){var r=this,o=!1,s=u[t];if(n>0)if(!0===e)o=s.getDefault()(!1,i,n);else if((0,a.mf)(e))o=e(!1,i,n);else if((0,a.Kn)(e)){var l=e;s[l.type]&&(o=s[l.type](!1,i,n,l.cfg))}else s[e]&&(o=s[e](!1,i,n));if("autoRotate"===t){if(o){var c=i.getChildren(),h=this.get("verticalFactor");(0,a.S6)(c,(function(t){if("center"===t.attr("textAlign")){var e=h>0?"end":"start";t.attr("textAlign",e)}}))}}else if("autoHide"===t){var p=i.getChildren().slice(0);(0,a.S6)(p,(function(t){t.get("visible")||(r.get("isRegister")&&r.unregisterElement(t),t.remove())}))}},e}(g),v=y}}]);
//# sourceMappingURL=5294.8a981ab5.js.map