"use strict";(self.webpackChunkjx3dps_online=self.webpackChunkjx3dps_online||[]).push([[1146],{45951:function(t,e,i){var a=i(29388),n=i(31154),r=i(44700),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,a.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,a.pi)((0,a.pi)({},e),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},e.prototype.getLayoutBBox=function(){var e=t.prototype.getLayoutBBox.call(this),i=this.get("maxWidth"),a=this.get("maxHeight"),n=e.width,o=e.height;return i&&(n=Math.min(n,i)),a&&(o=Math.min(o,a)),(0,r.KN)(e.minX,e.minY,n,o)},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},e.prototype.resetLocation=function(){var t=this.get("x"),e=this.get("y"),i=this.get("offsetX"),a=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t+i,y:e+a})},e.prototype.applyOffset=function(){this.resetLocation()},e.prototype.getDrawPoint=function(){return this.get("currentPoint")},e.prototype.setDrawPoint=function(t){return this.set("currentPoint",t)},e.prototype.renderInner=function(t){this.resetDraw(),this.get("title")&&this.drawTitle(t),this.drawLegendContent(t),this.get("background")&&this.drawBackground(t)},e.prototype.drawBackground=function(t){var e=this.get("background"),i=t.getBBox(),n=(0,r.pp)(e.padding),o=(0,a.pi)({x:0,y:0,width:i.width+n[1]+n[3],height:i.height+n[0]+n[2]},e.style);this.addShape(t,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:o}).toBack()},e.prototype.drawTitle=function(t){var e=this.get("currentPoint"),i=this.get("title"),n=i.spacing,r=i.style,o=i.text,s=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:(0,a.pi)({text:o,x:e.x,y:e.y},r)}).getBBox();this.set("currentPoint",{x:e.x,y:s.maxY+n})},e.prototype.resetDraw=function(){var t=this.get("background"),e={x:0,y:0};if(t){var i=(0,r.pp)(t.padding);e.x=i[3],e.y=i[0]}this.set("currentPoint",e)},e}(n.Z);e.Z=o},31146:function(t,e,i){var a=i(29388),n=i(54818),r=i(42620),o=i(58799),s=i(67571),h=i(42848),g=i(45951),l={marker:{style:{inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1,size:12}},text:{style:{fill:"#ccc",fontSize:12}}},d={fill:h.Z.textColor,fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:h.Z.fontFamily,fontWeight:"normal",lineHeight:12},p="navigation-arrow-right",m="navigation-arrow-left",u={right:90*Math.PI/180,left:270*Math.PI/180,up:0,down:180*Math.PI/180},c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentPageIndex=1,e.totalPagesCnt=1,e.pageWidth=0,e.pageHeight=0,e.startX=0,e.startY=0,e.onNavigationBack=function(){var t=e.getElementByLocalId("item-group");if(e.currentPageIndex>1){e.currentPageIndex-=1,e.updateNavigation();var i=e.getCurrentNavigationMatrix();e.get("animate")?t.animate({matrix:i},100):t.attr({matrix:i})}},e.onNavigationAfter=function(){var t=e.getElementByLocalId("item-group");if(e.currentPageIndex<e.totalPagesCnt){e.currentPageIndex+=1,e.updateNavigation();var i=e.getCurrentNavigationMatrix();e.get("animate")?t.animate({matrix:i},100):t.attr({matrix:i})}},e}return(0,a.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,a.pi)((0,a.pi)({},e),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},radio:null,items:[],itemStates:{},itemBackground:{},pageNavigator:{},defaultCfg:{title:{spacing:5,style:{fill:h.Z.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:h.Z.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},pageNavigator:l,itemName:{spacing:16,style:d},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:d,spacing:6},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:h.Z.uncheckedColor},markerStyle:{fill:h.Z.uncheckedColor,stroke:h.Z.uncheckedColor}},inactive:{nameStyle:{fill:h.Z.uncheckedColor},markerStyle:{opacity:.2}}}}})},e.prototype.isList=function(){return!0},e.prototype.getItems=function(){return this.get("items")},e.prototype.setItems=function(t){this.update({items:t})},e.prototype.updateItem=function(t,e){(0,n.CD)(t,e),this.clear(),this.render()},e.prototype.clearItems=function(){var t=this.getElementByLocalId("item-group");t&&t.clear()},e.prototype.setItemState=function(t,e,i){t[e]=i;var a=this.getElementByLocalId("item-"+t.id);if(a){var n=this.getItems().indexOf(t),r=this.createOffScreenGroup(),o=this.drawItem(t,n,this.getItemHeight(),r);this.updateElements(o,a),this.clearUpdateStatus(a)}},e.prototype.hasState=function(t,e){return!!t[e]},e.prototype.getItemStates=function(t){var e=this.get("itemStates"),i=[];return(0,n.S6)(e,(function(e,a){t[a]&&i.push(a)})),i},e.prototype.clearItemsState=function(t){var e=this,i=this.getItemsByState(t);(0,n.S6)(i,(function(i){e.setItemState(i,t,!1)}))},e.prototype.getItemsByState=function(t){var e=this,i=this.getItems();return(0,n.hX)(i,(function(i){return e.hasState(i,t)}))},e.prototype.drawLegendContent=function(t){this.processItems(),this.drawItems(t)},e.prototype.processItems=function(){var t=this.get("items");(0,n.S6)(t,(function(t){t.id||(t.id=t.name)}))},e.prototype.drawItems=function(t){var e=this,i=this.addGroup(t,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),a=this.addGroup(i,{id:this.getElementId("item-group"),name:"legend-item-group"}),r=this.getItemHeight(),o=this.get("itemWidth"),s=this.get("itemSpacing"),h=this.get("itemMarginBottom"),g=this.get("currentPoint"),l=g.x,d=g.y,p=this.get("layout"),m=this.get("items"),u=!1,c=0,y=this.get("maxWidth"),f=this.get("maxHeight");(0,n.S6)(m,(function(t,i){var n=e.drawItem(t,i,r,a),m=n.getBBox(),x=o||m.width;x>c&&(c=x),"horizontal"===p?(y&&y<g.x+x-l&&(u=!0,g.x=l,g.y+=r+h),e.moveElementTo(n,g),g.x+=x+s):(f&&f<g.y+r+h-d&&(u=!0,g.x+=c+s,g.y=d,c=0),e.moveElementTo(n,g),g.y+=r+h)})),u&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=l,this.startY=d,this.adjustNavigation(t,a))},e.prototype.getItemHeight=function(){var t=this.get("itemHeight");if(!t){var e=(this.get("itemName")||{}).style;if((0,n.mf)(e)){var i=this.getItems();i.forEach((function(n,r){var o=(0,a.pi)((0,a.pi)({},d),e(n,r,i)).fontSize;t<o&&(t=o)}))}else e&&(t=e.fontSize)}return t},e.prototype.drawMarker=function(t,e,i,r){var o=(0,a.pi)((0,a.pi)((0,a.pi)({x:0,y:r/2},e.style),{symbol:(0,n.U2)(i.marker,"symbol","circle")}),(0,n.U2)(i.marker,"style",{})),s=this.addShape(t,{type:"marker",id:this.getElementId("item-"+i.id+"-marker"),name:"legend-item-marker",attrs:o}),h=s.getBBox();s.attr("x",h.width/2);var g=s.attr(),l=g.stroke,d=g.fill;return l&&s.set("isStroke",!0),d&&s.set("isFill",!0),s},e.prototype.drawItemText=function(t,e,i,r,o,s,h){var g=i.formatter,l=i.style,p=(0,a.pi)((0,a.pi)({x:s,y:o/2,text:g?g(r[e],r,h):r[e]},d),(0,n.mf)(l)?l(r,h,this.getItems()):l);return this.addShape(t,{type:"text",id:this.getElementId("item-"+r.id+"-"+e),name:"legend-item-"+e,attrs:p})},e.prototype.drawRadio=function(t,e,i,n,r){var o,s,h=e.style||{},g=null!==(o=h.r)&&void 0!==o?o:n/2,l=3.6*g/8,d=[r+g,n/2-g],p=d[0],m=d[1],u=[p+g,m+g],c=u[0],y=u[1],f=[p,y+g],x=f[0],v=f[1],I=[r,m+g],w=I[0],B=I[1],k=i.showRadio,S=(0,a.pi)((0,a.pi)({path:[["M",p,m],["A",g,g,0,0,1,c,y],["L",c-l,y],["L",c,y],["A",g,g,0,0,1,x,v],["L",x,v-l],["L",x,v],["A",g,g,0,0,1,w,B],["L",w+l,B],["L",w,B],["A",g,g,0,0,1,p,m],["L",p,m+l]],stroke:"#000000",fill:"#ffffff"},h),{opacity:k?null!==(s=null===h||void 0===h?void 0:h.opacity)&&void 0!==s?s:.45:0}),P=this.addShape(t,{type:"path",id:this.getElementId("item-"+i.id+"-radio"),name:"legend-item-radio",attrs:S});return P.set("tip",e.tip),P},e.prototype.drawItem=function(t,e,i,o){var s="item-"+t.id,h=this.addGroup(o,{name:"legend-item-container",id:this.getElementId("item-container-"+s),delegateObject:{item:t,index:e}}),g=this.addGroup(h,{name:"legend-item",id:this.getElementId(s),delegateObject:{item:t,index:e}}),l=this.get("marker"),d=this.get("itemName"),p=this.get("itemValue"),m=this.get("itemBackground"),u=this.get("radio"),c=this.getLimitItemWidth(),y=0;if(l){var f=this.drawMarker(g,l,t,i),x=l.spacing,v=(0,n.U2)(t,["marker","spacing"]);(0,n.hj)(v)&&(x=v),y=f.getBBox().maxX+x}if(d){var I=this.drawItemText(g,"name",d,t,i,y,e);c&&(0,r.aq)(!0,I,(0,n.uZ)(c-y,0,c)),y=I.getBBox().maxX+d.spacing}if(p){var w=this.drawItemText(g,"value",p,t,i,y,e);c&&(p.alignRight?(w.attr({textAlign:"right",x:c}),(0,r.aq)(!0,w,(0,n.uZ)(c-y,0,c),"head")):(0,r.aq)(!0,w,(0,n.uZ)(c-y,0,c))),y=w.getBBox().maxX+p.spacing}if(u&&this.drawRadio(g,u,t,i,y),m){var B=g.getBBox();this.addShape(g,{type:"rect",name:"legend-item-background",id:this.getElementId(s+"-background"),attrs:(0,a.pi)({x:0,y:0,width:B.width,height:i},m.style)}).toBack()}return this.applyItemStates(t,g),g},e.prototype.adjustNavigation=function(t,e){var i=this,a=this.startX,r=this.startY,o=this.get("layout"),s=e.findAll((function(t){return"legend-item"===t.get("name")})),h=this.get("maxWidth"),g=this.get("maxHeight"),d=this.get("itemWidth"),p=this.get("itemSpacing"),m=this.getItemHeight(),u=(0,n.b$)({},l,this.get("pageNavigator")),c=this.drawNavigation(t,o,"00/00",u),y=c.getBBox(),f={x:a,y:r},x=1,v=0,I=0,w=0,B=this.get("itemMarginBottom");if("horizontal"===o){var k=this.get("maxRow")||1,S=m+(1===k?0:B),P=h-p-y.width-y.minX;this.pageHeight=S*k,this.pageWidth=P,(0,n.S6)(s,(function(t){var e=t.getBBox(),n=d||e.width;(v&&v<f.x+n+p||function(t,e){var i=t.getBBox(),a=d||i.width;return e.x+a+p+y.width>h}(t,f))&&(1===x&&(v=f.x+p,i.moveElementTo(c,{x:P,y:f.y+m/2-y.height/2-y.minY})),x+=1,f.x=a,f.y+=S),i.moveElementTo(t,f),t.getParent().setClip({type:"rect",attrs:{x:f.x,y:f.y,width:n+p,height:m}}),f.x+=n+p}))}else{(0,n.S6)(s,(function(t){var e=t.getBBox();e.width>I&&(I=e.width)})),w=I,I+=p,h&&(I=Math.min(h,I),w=Math.min(h,w)),this.pageWidth=I,this.pageHeight=g-Math.max(y.height,m+B);var C=Math.floor(this.pageHeight/(m+B));(0,n.S6)(s,(function(t,e){0!==e&&e%C===0&&(x+=1,f.x+=I,f.y=r),i.moveElementTo(t,f),t.getParent().setClip({type:"rect",attrs:{x:f.x,y:f.y,width:I,height:m}}),f.y+=m+B})),this.totalPagesCnt=x,this.moveElementTo(c,{x:a+w/2-y.width/2-y.minX,y:g-y.height-y.minY})}this.pageHeight&&this.pageWidth&&e.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),"horizontal"===o&&this.get("maxRow")?this.totalPagesCnt=Math.ceil(x/this.get("maxRow")):this.totalPagesCnt=x,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(c),e.attr("matrix",this.getCurrentNavigationMatrix())},e.prototype.drawNavigation=function(t,e,i,r){var o={x:0,y:0},s=this.addGroup(t,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),h=(0,n.U2)(r.marker,"style",{}),g=h.size,l=void 0===g?12:g,d=(0,a._T)(h,["size"]),u=this.drawArrow(s,o,m,"horizontal"===e?"up":"left",l,d);u.on("click",this.onNavigationBack);var c=u.getBBox();o.x+=c.width+2;var y=this.addShape(s,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:(0,a.pi)({x:o.x,y:o.y+l/2,text:i,textBaseline:"middle"},(0,n.U2)(r.text,"style"))}).getBBox();return o.x+=y.width+2,this.drawArrow(s,o,p,"horizontal"===e?"down":"right",l,d).on("click",this.onNavigationAfter),s},e.prototype.updateNavigation=function(t){var e=(0,n.b$)({},l,this.get("pageNavigator")).marker.style,i=e.fill,a=e.opacity,r=e.inactiveFill,o=e.inactiveOpacity,s=this.currentPageIndex+"/"+this.totalPagesCnt,h=t?t.getChildren()[1]:this.getElementByLocalId("navigation-text"),g=t?t.findById(this.getElementId(m)):this.getElementByLocalId(m),d=t?t.findById(this.getElementId(p)):this.getElementByLocalId(p);h.attr("text",s),g.attr("opacity",1===this.currentPageIndex?o:a),g.attr("fill",1===this.currentPageIndex?r:i),g.attr("cursor",1===this.currentPageIndex?"not-allowed":"pointer"),d.attr("opacity",this.currentPageIndex===this.totalPagesCnt?o:a),d.attr("fill",this.currentPageIndex===this.totalPagesCnt?r:i),d.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer");var u=g.getBBox().maxX+2;h.attr("x",u),u+=h.getBBox().width+2,this.updateArrowPath(d,{x:u,y:0})},e.prototype.drawArrow=function(t,e,i,n,r,s){var h=e.x,g=e.y,l=this.addShape(t,{type:"path",id:this.getElementId(i),name:i,attrs:(0,a.pi)({size:r,direction:n,path:[["M",h+r/2,g],["L",h,g+r],["L",h+r,g+r],["Z"]],cursor:"pointer"},s)});return l.attr("matrix",(0,o.Z1)({x:h+r/2,y:g+r/2},u[n])),l},e.prototype.updateArrowPath=function(t,e){var i=e.x,a=e.y,n=t.attr(),r=n.size,s=n.direction,h=(0,o.Z1)({x:i+r/2,y:a+r/2},u[s]);t.attr("path",[["M",i+r/2,a],["L",i,a+r],["L",i+r,a+r],["Z"]]),t.attr("matrix",h)},e.prototype.getCurrentNavigationMatrix=function(){var t=this,e=t.currentPageIndex,i=t.pageWidth,a=t.pageHeight,n="horizontal"===this.get("layout")?{x:0,y:a*(1-e)}:{x:i*(1-e),y:0};return(0,o.kc)(n)},e.prototype.applyItemStates=function(t,e){if(this.getItemStates(t).length>0){var i=e.getChildren(),a=this.get("itemStates");(0,n.S6)(i,(function(e){var i=e.get("name").split("-")[2],n=(0,s.h)(t,i,a);n&&(e.attr(n),"marker"!==i||e.get("isStroke")&&e.get("isFill")||(e.get("isStroke")&&e.attr("fill",null),e.get("isFill")&&e.attr("stroke",null)))}))}},e.prototype.getLimitItemWidth=function(){var t=this.get("itemWidth"),e=this.get("maxItemWidth");return e?t&&(e=t<=e?t:e):t&&(e=t),e},e}(g.Z);e.Z=c}}]);
//# sourceMappingURL=1146.57c48131.js.map